
<!-- saved from url=(0057)https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm -->
<html><script type="text/javascript">
    var spector;
    var captureOnLoad = false;
    var captureOffScreen = false;
    window.__SPECTOR_Canvases = [];

    (function() {
        var __SPECTOR_Origin_EXTENSION_GetContext = HTMLCanvasElement.prototype.getContext;
        HTMLCanvasElement.prototype.__SPECTOR_Origin_EXTENSION_GetContext = __SPECTOR_Origin_EXTENSION_GetContext;

        if (typeof OffscreenCanvas !== 'undefined') {
            var __SPECTOR_Origin_EXTENSION_OffscreenGetContext = OffscreenCanvas.prototype.getContext;
            OffscreenCanvas.prototype.__SPECTOR_Origin_EXTENSION_OffscreenGetContext = __SPECTOR_Origin_EXTENSION_OffscreenGetContext;

            OffscreenCanvas.prototype.getContext = function () {
                var context = null;
                if (!arguments.length) {
                    return context;
                }
    
                if (arguments.length === 1) {
                    context = this.__SPECTOR_Origin_EXTENSION_OffscreenGetContext(arguments[0]);
                    if (context === null) {
                        return context;
                    }
                }
                else if (arguments.length === 2) {
                    context = this.__SPECTOR_Origin_EXTENSION_OffscreenGetContext(arguments[0], arguments[1]);
                    if (context === null) {
                        return context;
                    }
                }
    
                var contextNames = ["webgl", "experimental-webgl", "webgl2", "experimental-webgl2"];
                if (contextNames.indexOf(arguments[0]) !== -1) {
                    // context.canvas.setAttribute("__spector_context_type", arguments[0]);
                    // Notify the page a canvas is available.
                    var myEvent = new CustomEvent("SpectorWebGLCanvasAvailableEvent");
                    document.dispatchEvent(myEvent);
                    this.id = "Offscreen";
                    window.__SPECTOR_Canvases.push(this);
    
                    if (captureOnLoad) {
                        // Ensures canvas is in the dom to capture the one we are currently tracking.
                        if (false) {
                            spector.captureContext(context, 500, false, false);
                            captureOnLoad = false;
                        }
                    }
                }
    
                return context;
            }
        }

        HTMLCanvasElement.prototype.getContext = function () {
            var context = null;
            if (!arguments.length) {
                return context;
            }

            if (arguments.length === 1) {
                context = this.__SPECTOR_Origin_EXTENSION_GetContext(arguments[0]);
                if (context === null) {
                    return context;
                }
            }
            else if (arguments.length === 2) {
                context = this.__SPECTOR_Origin_EXTENSION_GetContext(arguments[0], arguments[1]);
                if (context === null) {
                    return context;
                }
            }

            var contextNames = ["webgl", "experimental-webgl", "webgl2", "experimental-webgl2"];
            if (contextNames.indexOf(arguments[0]) !== -1) {
                context.canvas.setAttribute("__spector_context_type", arguments[0]);
                // Notify the page a canvas is available.
                var myEvent = new CustomEvent("SpectorWebGLCanvasAvailableEvent");
                document.dispatchEvent(myEvent);

                if (captureOffScreen) {
                    var found = false;
                    for (var i = 0; i < window.__SPECTOR_Canvases.length; i++) {
                        if (window.__SPECTOR_Canvases[i] === this) {
                            found = true;
                            break;
                        }
                    }
                    if (!found) {
                        window.__SPECTOR_Canvases.push(this);
                    }
                }

                if (captureOnLoad) {
                    // Ensures canvas is in the dom to capture the one we are currently tracking.
                    if (this.parentElement || false) {
                        spector.captureContext(context, 500, false, false);
                        captureOnLoad = false;
                    }
                }
            }

            return context;
        }
    })()</script><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta name="Generator" content="Microsoft Word 12 (filtered)">
<title>XRootD Proxy Configuration</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Times;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Palatino;}
@font-face
	{font-family:"Clarendon Condensed";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Marlett;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:"Bahnschrift Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiLight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Bahnschrift;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiBold";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift Light SemiCondensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiLight SemiConde";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiCondensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiBold SemiConden";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift Light Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiLight Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiBold Condensed";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:"Candara Light";
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:Constantia;
	panose-1:2 3 6 2 5 3 6 3 3 3;}
@font-face
	{font-family:Corbel;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Corbel Light";
	panose-1:2 11 3 3 2 2 4 2 2 4;}
@font-face
	{font-family:Ebrima;
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Franklin Gothic Medium";
	panose-1:2 11 6 3 2 1 2 2 2 4;}
@font-face
	{font-family:Gabriola;
	panose-1:4 4 6 5 5 16 2 2 13 2;}
@font-face
	{font-family:Gadugi;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Georgia;
	panose-1:2 4 5 2 5 4 5 2 3 3;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;}
@font-face
	{font-family:"Ink Free";
	panose-1:3 8 4 2 0 5 0 0 0 0;}
@font-face
	{font-family:"Javanese Text";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Leelawadee UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Leelawadee UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Unicode";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Malgun Gothic";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"\@Malgun Gothic";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"Malgun Gothic Semilight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Malgun Gothic Semilight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Himalaya";
	panose-1:1 1 1 0 1 1 1 1 1 1;}
@font-face
	{font-family:"Microsoft JhengHei";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei UI";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei UI";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei UI Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei UI Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft New Tai Lue";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft PhagsPa";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Sans Serif";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Microsoft Tai Le";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft YaHei";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@Microsoft YaHei";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Microsoft YaHei UI";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@Microsoft YaHei UI";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Microsoft YaHei Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft YaHei Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft YaHei UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft YaHei UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Yi Baiti";
	panose-1:3 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:MingLiU-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MingLiU-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:PMingLiU-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@PMingLiU-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:MingLiU_HKSCS-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MingLiU_HKSCS-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Mongolian Baiti";
	panose-1:3 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:"MS UI Gothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"\@MS UI Gothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"MS PGothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"\@MS PGothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"MV Boli";
	panose-1:2 0 5 0 3 2 0 9 0 0;}
@font-face
	{font-family:"Myanmar Text";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Nirmala UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Nirmala UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe MDL2 Assets";
	panose-1:5 10 1 2 1 1 1 1 1 1;}
@font-face
	{font-family:"Segoe Print";
	panose-1:2 0 6 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Segoe Script";
	panose-1:3 11 5 4 2 0 0 0 0 3;}
@font-face
	{font-family:"Segoe UI Black";
	panose-1:2 11 10 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Historic";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Semibold";
	panose-1:2 11 7 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Symbol";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:NSimSun;
	panose-1:2 1 6 9 3 1 1 1 1 1;}
@font-face
	{font-family:"\@NSimSun";
	panose-1:2 1 6 9 3 1 1 1 1 1;}
@font-face
	{font-family:SimSun-ExtB;
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"\@SimSun-ExtB";
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"Sitka Small";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Text";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Subheading";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Heading";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Display";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Banner";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Semibold";
	panose-1:2 11 7 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Semibold";
	panose-1:2 11 7 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic Medium";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic Medium";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Semilight";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Semilight";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HoloLens MDL2 Assets";
	panose-1:5 10 1 2 1 1 1 1 1 1;}
@font-face
	{font-family:"HP Simplified Light";
	panose-1:2 11 4 4 2 2 4 2 2 4;}
@font-face
	{font-family:"HP Simplified";
	panose-1:2 11 6 4 2 2 4 2 2 4;}
@font-face
	{font-family:"Agency FB";
	panose-1:2 11 5 3 2 2 2 2 2 4;}
@font-face
	{font-family:Algerian;
	panose-1:4 2 7 5 4 10 2 6 7 2;}
@font-face
	{font-family:"Arial Rounded MT Bold";
	panose-1:2 15 7 4 3 5 4 3 2 4;}
@font-face
	{font-family:"Baskerville Old Face";
	panose-1:2 2 6 2 8 5 5 2 3 3;}
@font-face
	{font-family:"Bauhaus 93";
	panose-1:4 3 9 5 2 11 2 2 12 2;}
@font-face
	{font-family:"Bell MT";
	panose-1:2 2 5 3 6 3 5 2 3 3;}
@font-face
	{font-family:"Bernard MT Condensed";
	panose-1:2 5 8 6 6 9 5 2 4 4;}
@font-face
	{font-family:"Bodoni MT";
	panose-1:2 7 6 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Black";
	panose-1:2 7 10 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Condensed";
	panose-1:2 7 6 6 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Poster Compressed";
	panose-1:2 7 7 6 8 6 1 5 2 4;}
@font-face
	{font-family:"Britannic Bold";
	panose-1:2 11 9 3 6 7 3 2 2 4;}
@font-face
	{font-family:"Berlin Sans FB";
	panose-1:2 14 6 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Berlin Sans FB Demi";
	panose-1:2 14 8 2 2 5 2 2 3 6;}
@font-face
	{font-family:Broadway;
	panose-1:4 4 9 5 8 11 2 2 5 2;}
@font-face
	{font-family:"Brush Script MT";
	panose-1:3 6 8 2 4 4 6 7 3 4;}
@font-face
	{font-family:"Californian FB";
	panose-1:2 7 4 3 6 8 11 3 2 4;}
@font-face
	{font-family:"Calisto MT";
	panose-1:2 4 6 3 5 5 5 3 3 4;}
@font-face
	{font-family:Castellar;
	panose-1:2 10 4 2 6 4 6 1 3 1;}
@font-face
	{font-family:"Century Schoolbook";
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:Centaur;
	panose-1:2 3 5 4 5 2 5 2 3 4;}
@font-face
	{font-family:Chiller;
	panose-1:4 2 4 4 3 16 7 2 6 2;}
@font-face
	{font-family:"Colonna MT";
	panose-1:4 2 8 5 6 2 2 3 2 3;}
@font-face
	{font-family:"Cooper Black";
	panose-1:2 8 9 4 4 3 11 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Bold";
	panose-1:2 14 7 5 2 2 6 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Light";
	panose-1:2 14 5 7 2 2 6 2 4 4;}
@font-face
	{font-family:"Curlz MT";
	panose-1:4 4 4 4 5 7 2 2 2 2;}
@font-face
	{font-family:Elephant;
	panose-1:2 2 9 4 9 5 5 2 3 3;}
@font-face
	{font-family:"Engravers MT";
	panose-1:2 9 7 7 8 5 5 2 3 4;}
@font-face
	{font-family:"Eras Bold ITC";
	panose-1:2 11 9 7 3 5 4 2 2 4;}
@font-face
	{font-family:"Eras Demi ITC";
	panose-1:2 11 8 5 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Light ITC";
	panose-1:2 11 4 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Medium ITC";
	panose-1:2 11 6 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Felix Titling";
	panose-1:4 6 5 5 6 2 2 2 10 4;}
@font-face
	{font-family:Forte;
	panose-1:3 6 9 2 4 5 2 7 2 3;}
@font-face
	{font-family:"Franklin Gothic Book";
	panose-1:2 11 5 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi Cond";
	panose-1:2 11 7 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Heavy";
	panose-1:2 11 9 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Medium Cond";
	panose-1:2 11 6 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Footlight MT Light";
	panose-1:2 4 6 2 6 3 10 2 3 4;}
@font-face
	{font-family:Gigi;
	panose-1:4 4 5 4 6 16 7 2 13 2;}
@font-face
	{font-family:"Gill Sans MT";
	panose-1:2 11 5 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Condensed";
	panose-1:2 11 5 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold Condensed";
	panose-1:2 11 10 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold";
	panose-1:2 11 10 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gloucester MT Extra Condensed";
	panose-1:2 3 8 8 2 6 1 1 1 1;}
@font-face
	{font-family:"Gill Sans MT Ext Condensed Bold";
	panose-1:2 11 9 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Goudy Old Style";
	panose-1:2 2 5 2 5 3 5 2 3 3;}
@font-face
	{font-family:"Goudy Stout";
	panose-1:2 2 9 4 7 3 11 2 4 1;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
@font-face
	{font-family:Harrington;
	panose-1:4 4 5 5 5 10 2 2 7 2;}
@font-face
	{font-family:Haettenschweiler;
	panose-1:2 11 7 6 4 9 2 6 2 4;}
@font-face
	{font-family:"High Tower Text";
	panose-1:2 4 5 2 5 5 6 3 3 3;}
@font-face
	{font-family:"Imprint MT Shadow";
	panose-1:4 2 6 5 6 3 3 3 2 2;}
@font-face
	{font-family:"Informal Roman";
	panose-1:3 6 4 2 3 4 6 11 2 4;}
@font-face
	{font-family:"Blackadder ITC";
	panose-1:4 2 5 5 5 16 7 2 13 2;}
@font-face
	{font-family:"Edwardian Script ITC";
	panose-1:3 3 3 2 4 7 7 13 8 4;}
@font-face
	{font-family:Jokerman;
	panose-1:4 9 6 5 6 13 6 2 7 2;}
@font-face
	{font-family:"Kunstler Script";
	panose-1:3 3 4 2 2 6 7 13 13 6;}
@font-face
	{font-family:"Wide Latin";
	panose-1:2 10 10 7 5 5 5 2 4 4;}
@font-face
	{font-family:"Lucida Bright";
	panose-1:2 4 6 2 5 5 5 2 3 4;}
@font-face
	{font-family:"Lucida Calligraphy";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Fax";
	panose-1:2 6 6 2 5 5 5 2 2 4;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:Magneto;
	panose-1:4 3 8 5 5 8 2 2 13 2;}
@font-face
	{font-family:"Maiandra GD";
	panose-1:2 14 5 2 3 3 8 2 2 4;}
@font-face
	{font-family:"Matura MT Script Capitals";
	panose-1:3 2 8 2 6 6 2 7 2 2;}
@font-face
	{font-family:"Modern No\. 20";
	panose-1:2 7 7 4 7 5 5 2 3 3;}
@font-face
	{font-family:"Niagara Engraved";
	panose-1:4 2 5 2 7 7 3 3 2 2;}
@font-face
	{font-family:"Niagara Solid";
	panose-1:4 2 5 2 7 7 2 2 2 2;}
@font-face
	{font-family:"OCR A Extended";
	panose-1:2 1 5 9 2 1 2 1 3 3;}
@font-face
	{font-family:"Old English Text MT";
	panose-1:3 4 9 2 4 5 8 3 8 6;}
@font-face
	{font-family:Onyx;
	panose-1:4 5 6 2 8 7 2 2 2 3;}
@font-face
	{font-family:"MS Outlook";
	panose-1:5 1 1 0 1 0 0 0 0 0;}
@font-face
	{font-family:"Palace Script MT";
	panose-1:3 3 3 2 2 6 7 12 11 5;}
@font-face
	{font-family:Parchment;
	panose-1:3 4 6 2 4 7 8 4 8 4;}
@font-face
	{font-family:Perpetua;
	panose-1:2 2 5 2 6 4 1 2 3 3;}
@font-face
	{font-family:"Perpetua Titling MT";
	panose-1:2 2 5 2 6 5 5 2 8 4;}
@font-face
	{font-family:Playbill;
	panose-1:4 5 6 3 10 6 2 2 2 2;}
@font-face
	{font-family:"Poor Richard";
	panose-1:2 8 5 2 5 5 5 2 7 2;}
@font-face
	{font-family:"Rage Italic";
	panose-1:3 7 5 2 4 5 7 7 3 4;}
@font-face
	{font-family:Ravie;
	panose-1:4 4 8 5 5 8 9 2 6 2;}
@font-face
	{font-family:"Rockwell Condensed";
	panose-1:2 6 6 3 5 4 5 2 1 4;}
@font-face
	{font-family:Rockwell;
	panose-1:2 6 6 3 2 2 5 2 4 3;}
@font-face
	{font-family:"Rockwell Extra Bold";
	panose-1:2 6 9 3 4 5 5 2 4 3;}
@font-face
	{font-family:"Script MT Bold";
	panose-1:3 4 6 2 4 6 7 8 9 4;}
@font-face
	{font-family:"Showcard Gothic";
	panose-1:4 2 9 4 2 1 2 2 6 4;}
@font-face
	{font-family:"Snap ITC";
	panose-1:4 4 10 7 6 10 2 2 2 2;}
@font-face
	{font-family:Stencil;
	panose-1:4 4 9 5 13 8 2 2 4 4;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;}
@font-face
	{font-family:"Tw Cen MT Condensed";
	panose-1:2 11 6 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Tw Cen MT Condensed Extra Bold";
	panose-1:2 11 8 3 2 2 2 2 2 4;}
@font-face
	{font-family:"Viner Hand ITC";
	panose-1:3 7 5 2 3 5 2 2 2 3;}
@font-face
	{font-family:Vivaldi;
	panose-1:3 2 6 2 5 5 6 9 8 4;}
@font-face
	{font-family:"Vladimir Script";
	panose-1:3 5 4 2 4 4 7 7 3 5;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Noto Sans";
	panose-1:2 11 5 2 4 5 4 2 2 4;}
@font-face
	{font-family:OCRATTRegular;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;}
@font-face
	{font-family:"Bradley Hand ITC";
	panose-1:3 7 4 2 5 3 2 3 2 3;}
@font-face
	{font-family:"Freestyle Script";
	panose-1:3 8 4 2 3 2 5 11 4 4;}
@font-face
	{font-family:"French Script MT";
	panose-1:3 2 4 2 4 6 7 4 6 5;}
@font-face
	{font-family:"Juice ITC";
	panose-1:4 4 4 3 4 10 2 2 2 2;}
@font-face
	{font-family:"Kristen ITC";
	panose-1:3 5 5 2 4 2 2 3 2 2;}
@font-face
	{font-family:"Lucida Handwriting";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:Mistral;
	panose-1:3 9 7 2 3 4 7 2 4 3;}
@font-face
	{font-family:Papyrus;
	panose-1:3 7 5 2 6 5 2 3 2 5;}
@font-face
	{font-family:Pristina;
	panose-1:3 6 4 2 4 4 6 8 2 4;}
@font-face
	{font-family:"Tempus Sans ITC";
	panose-1:4 2 4 4 3 13 7 2 2 2;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:"Monotype Corsiva";
	panose-1:3 1 1 1 1 2 1 1 1 1;}
@font-face
	{font-family:"Century Gothic";
	panose-1:2 11 5 2 2 2 2 2 2 4;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"HP Simplified Jpan Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HP Simplified Jpan Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HP Simplified Jpan";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HP Simplified Jpan";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HP Simplified Hans Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HP Simplified Hans Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HP Simplified Hans";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HP Simplified Hans";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bookshelf Symbol 7";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"MS Reference Sans Serif";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"MS Reference Specialty";
	panose-1:5 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
h1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	text-indent:-.3in;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.4in;
	text-indent:-.4in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
h3
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.6in;
	text-indent:-.6in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:Palatino;
	font-weight:bold;}
h5
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.7in;
	text-indent:-.7in;
	font-size:11.0pt;
	font-family:"Times","serif";
	font-weight:normal;}
h6
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.8in;
	text-indent:-.8in;
	font-size:11.0pt;
	font-family:"Times","serif";
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.9in;
	text-indent:-.9in;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";
	font-style:italic;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:1.1in;
	text-indent:-1.1in;
	font-size:9.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:16.0pt;
	font-family:Palatino;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:12.0pt;
	margin-bottom:.0001pt;
	font-size:14.0pt;
	font-family:Palatino;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:24.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:Palatino;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:Palatino;
	font-weight:bold;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:48.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:60.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:84.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:96.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Times","serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Times","serif";
	color:#4F81BD;
	font-weight:bold;}
span.MsoFootnoteReference
	{vertical-align:super;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.0pt;
	font-family:"Times","serif";
	font-weight:bold;}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{margin:0in;
	margin-bottom:.0001pt;
	text-indent:.5in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
p.MsoBodyText2, li.MsoBodyText2, div.MsoBodyText2
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Clarendon Condensed","serif";}
p.MsoBodyText3, li.MsoBodyText3, div.MsoBodyText3
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:12.0pt;
	font-family:"Times","serif";
	font-weight:bold;}
p.MsoBodyTextIndent2, li.MsoBodyTextIndent2, div.MsoBodyTextIndent2
	{mso-style-link:"Body Text Indent 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:none;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin:0in;
	margin-bottom:.0001pt;
	background:navy;
	font-size:12.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Times","serif";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times","serif";}
span.captionmedium
	{mso-style-name:captionmedium;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
p.StylePalatino24ptBoldCentered, li.StylePalatino24ptBoldCentered, div.StylePalatino24ptBoldCentered
	{mso-style-name:"Style Palatino 24 pt Bold Centered";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:24.0pt;
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
p.StylePalatino24ptBoldCenteredLeft-013Right-006, li.StylePalatino24ptBoldCenteredLeft-013Right-006, div.StylePalatino24ptBoldCenteredLeft-013Right-006
	{mso-style-name:"Style Palatino 24 pt Bold Centered Left\:  -0\.13\0022 Right\:  -0\.06\0022";
	margin-top:0in;
	margin-right:-4.5pt;
	margin-bottom:0in;
	margin-left:-9.0pt;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:24.0pt;
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
p.StylePalatinoBoldCentered, li.StylePalatinoBoldCentered, div.StylePalatinoBoldCentered
	{mso-style-name:"Style Palatino Bold Centered";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
p.StylePalatino10ptBoldCentered, li.StylePalatino10ptBoldCentered, div.StylePalatino10ptBoldCentered
	{mso-style-name:"Style Palatino 10 pt Bold Centered";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.0pt;
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
p.StylePalatinoCenteredBoxSinglesolidlineAuto05ptLi, li.StylePalatinoCenteredBoxSinglesolidlineAuto05ptLi, div.StylePalatinoCenteredBoxSinglesolidlineAuto05ptLi
	{mso-style-name:"Style Palatino Centered Box\: \(Single solid line Auto  0\.5 pt Li\.\.\.";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
span.StylePalatino
	{mso-style-name:"Style Palatino";
	font-family:"Palatino Linotype","serif";}
p.StylePalatino10ptCenteredBoxSinglesolidlineAuto0, li.StylePalatino10ptCenteredBoxSinglesolidlineAuto0, div.StylePalatino10ptCenteredBoxSinglesolidlineAuto0
	{mso-style-name:"Style Palatino 10 pt Centered Box\: \(Single solid line Auto  0\.\.\.\.";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Palatino Linotype","serif";}
span.StylePalatinoBold
	{mso-style-name:"Style Palatino Bold";
	font-family:"Palatino Linotype","serif";
	font-weight:bold;}
span.StylePalatinoItalic
	{mso-style-name:"Style Palatino Italic";
	font-family:"Palatino Linotype","serif";
	font-style:italic;}
p.StylePalatinoFirstline05, li.StylePalatinoFirstline05, div.StylePalatinoFirstline05
	{mso-style-name:"Style Palatino First line\:  0\.5\0022";
	margin:0in;
	margin-bottom:.0001pt;
	text-indent:.5in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
p.StyleLeft0Hanging05, li.StyleLeft0Hanging05, div.StyleLeft0Hanging05
	{mso-style-name:"Style Left\:  0\0022 Hanging\:  0\.5\0022";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.5in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
p.StyleLeft05, li.StyleLeft05, div.StyleLeft05
	{mso-style-name:"Style Left\:  0\.5\0022";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
p.StyleLeft04Hanging01, li.StyleLeft04Hanging01, div.StyleLeft04Hanging01
	{mso-style-name:"Style Left\:  0\.4\0022 Hanging\:  0\.1\0022";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.1in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
p.StylePalatinoItalicLeft0Hanging05, li.StylePalatinoItalicLeft0Hanging05, div.StylePalatinoItalicLeft0Hanging05
	{mso-style-name:"Style Palatino Italic Left\:  0\0022 Hanging\:  0\.5\0022";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.5in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";
	font-style:italic;}
p.StyleHeaderCourierNewItalic, li.StyleHeaderCourierNewItalic, div.StyleHeaderCourierNewItalic
	{mso-style-name:"Style Header + Courier New Italic";
	mso-style-link:"Style Header + Courier New Italic Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";
	font-style:italic;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"Times","serif";}
span.StyleHeaderCourierNewItalicChar
	{mso-style-name:"Style Header + Courier New Italic Char";
	mso-style-link:"Style Header + Courier New Italic";
	font-family:"Palatino Linotype","serif";
	font-style:italic;}
p.StyleHeaderLeft0Hanging05, li.StyleHeaderLeft0Hanging05, div.StyleHeaderLeft0Hanging05
	{mso-style-name:"Style Header + Left\:  0\0022 Hanging\:  0\.5\0022";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.5in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
p.StyleLeft05Firstline05, li.StyleLeft05Firstline05, div.StyleLeft05Firstline05
	{mso-style-name:"Style Left\:  0\.5\0022 First line\:  0\.5\0022";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:.5in;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
p.StyleHeaderPalatino, li.StyleHeaderPalatino, div.StyleHeaderPalatino
	{mso-style-name:"Style Header + Palatino";
	mso-style-link:"Style Header + Palatino Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
span.StyleHeaderPalatinoChar
	{mso-style-name:"Style Header + Palatino Char";
	mso-style-link:"Style Header + Palatino";
	font-family:"Palatino Linotype","serif";}
p.StyleBodyTextIndent2Left-006, li.StyleBodyTextIndent2Left-006, div.StyleBodyTextIndent2Left-006
	{mso-style-name:"Style Body Text Indent 2 + Left\:  -0\.06\0022";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:-4.5pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Palatino Linotype","serif";}
span.highlight
	{mso-style-name:highlight;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
span.apple-converted-space
	{mso-style-name:apple-converted-space;}
span.stylebodytextindent2boldchar
	{mso-style-name:stylebodytextindent2boldchar;}
span.spelle
	{mso-style-name:spelle;}
span.grame
	{mso-style-name:grame;}
span.apple-tab-span
	{mso-style-name:apple-tab-span;}
span.BodyTextIndent2Char
	{mso-style-name:"Body Text Indent 2 Char";
	mso-style-link:"Body Text Indent 2";
	font-family:"Palatino Linotype","serif";}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:Palatino;
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection14
	{page:WordSection14;}
@page WordSection15
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection15
	{page:WordSection15;}
@page WordSection16
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection16
	{page:WordSection16;}
@page WordSection17
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection17
	{page:WordSection17;}
@page WordSection18
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection18
	{page:WordSection18;}
@page WordSection19
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection19
	{page:WordSection19;}
@page WordSection20
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.25in;}
div.WordSection20
	{page:WordSection20;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang="EN-US" link="blue" vlink="purple">

<div class="WordSection1">

<p class="MsoNormal" align="center" style="text-align:center"><img width="320" height="109" src="./XRootD Proxy Configuration_files/image001.gif"></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="StylePalatino24ptBoldCentered" align="left" style="text-align:left">&nbsp;</p>

<p class="StylePalatino24ptBoldCenteredLeft-013Right-006" style="margin-left:
0in">Proxy Storage Services</p>

<p class="StylePalatino24ptBoldCenteredLeft-013Right-006" style="margin-left:
0in">(Caching, Non-Caching,</p>

<p class="StylePalatino24ptBoldCenteredLeft-013Right-006" style="margin-left:
0in">&amp; Server-less Caching)</p>

<p class="StylePalatino24ptBoldCentered">Configuration Reference</p>

<p class="StylePalatino24ptBoldCentered"><span style="font-size:10.0pt">&nbsp;</span></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="StylePalatino10ptBoldCentered">16 December 2022</p>

<p class="StylePalatino10ptBoldCentered">Release 5.6.0 and above</p>

<p class="StylePalatinoBoldCentered">Andrew Hanushevsky (SLAC)</p>

<p class="StylePalatinoBoldCentered">Alja Mrak-Tadel (UCSD)</p>

<p class="StylePalatino10ptBoldCentered"><span style="font-family:Palatino;
font-weight:normal"><img width="237" height="91" id="Picture 2" src="./XRootD Proxy Configuration_files/image002.png"></span><br clear="all" style="page-break-before:
always">
</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<p class="StylePalatino10ptBoldCentered">&nbsp;</p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" align="center" style="text-align:center;border:none;
padding:0in"><span style="font-family:&quot;Courier New&quot;">©</span><span class="StylePalatino">2003-2022 by the Board of Trustees of the Leland Stanford,
Jr., University</span></p>

<p class="StylePalatinoCenteredBoxSinglesolidlineAuto05ptLi">All Rights Reserved</p>

<p class="StylePalatinoCenteredBoxSinglesolidlineAuto05ptLi">Produced under
contract DE-AC02-76-SFO0515 with the Department of Energy</p>

<p class="StylePalatino10ptCenteredBoxSinglesolidlineAuto0">This code is
open-sourced under a GNU Lesser General Public license.</p>

<p class="StylePalatino10ptCenteredBoxSinglesolidlineAuto0">For LGPL terms and
conditions see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a></p>

</div>

</div>

<b><span style="font-size:16.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span></b>

<div class="WordSection2">

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-size:16.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoToc1"><a name="_GoBack"></a><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125444">1<span style="font-size:11.0pt;
font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Introduction<span style="color:windowtext;display:none">.. </span><span style="color:windowtext;display:none">5</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125445">1.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Direct
Mode Proxies<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">7</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125446">1.2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Forwarding
Mode Proxies<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">7</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125447">1.2.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Forwarding
File Paths<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">8</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125448">1.2.2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Forwarding
Object IDs<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">9</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125449">1.3<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Combination
Mode Proxies<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">10</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125450">1.4<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Minimal
Sample Configuration Files<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">11</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125451">2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Security Considerations<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">13</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125452">2.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Privacy
and Integrity<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">14</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125453">3<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Automating Proxy Service Selection<span style="color:windowtext;display:none">.. </span><span style="color:windowtext;display:none">15</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125454">4<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Standard Proxy Service<span style="color:
windowtext;display:none">. </span><span style="color:windowtext;display:none">17</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125455">4.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Simple
Proxy Server<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">18</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125456">4.2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Proxy
Cluster<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">21</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125457">4.3<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configuration<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">25</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125458">4.3.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Required
Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">25</span></a></span></p>

<p class="MsoToc4"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125459"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.1.1</span><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Specifying
the origin as a URL</span><span style="color:windowtext;display:none">.. </span><span style="color:windowtext;display:none">26</span></a></span></p>

<p class="MsoToc4"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125460"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.1.2</span><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Specifying
the origin as a path</span><span style="color:windowtext;display:none">.. </span><span style="color:windowtext;display:none">26</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125461">4.3.2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Data
Caching Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">27</span></a></span></p>

<p class="MsoToc4"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125462"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.2.1</span><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Direct
Cache Access</span><span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">27</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125463">4.3.3<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Debugging
Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">28</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125464">4.3.4<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Path
Processing Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">29</span></a></span></p>

<p class="MsoToc4"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125465">4.3.4.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Reproxying Third Party Copy<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">30</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125466">4.3.5<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Networking
Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">31</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125467">4.3.6<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Security
Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">33</span></a></span></p>

<p class="MsoToc4"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125468"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.6.1</span><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Persona
restrictions and limitations</span><span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">34</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125469">4.3.7<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Tuning
Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">35</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125470">5<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Disk Caching Proxy<span style="color:windowtext;
display:none">. </span><span style="color:windowtext;display:none">38</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125471">5.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configuration<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">40</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125472">5.1.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Disk
Caching S3-type Objects<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">47</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125473">5.1.2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Cache
Integrity Options<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">49</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125474">5.2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Disk
Caching Proxy Clusters<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">51</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125475">5.3<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Handling
Cache Overloads<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">53</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125476">6<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Memory Caching Proxy<span style="color:windowtext;
display:none">. </span><span style="color:windowtext;display:none">55</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125477">6.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configuration<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">55</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125478">7<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>POSIX Server-less Caching<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">59</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125479">7.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Server-less
Disk Caching<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">60</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125480">7.2<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Server-less
Memory Caching<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">61</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125481">7.3<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Esoteric
Directives<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">61</span></a></span></p>

<p class="MsoToc2"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125482">7.4<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Defining
Virtual Mount Points<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">62</span></a></span></p>

<p class="MsoToc3"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125483">7.4.1<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext">&nbsp;&nbsp;&nbsp;&nbsp; </span>Examples<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">63</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125484">8<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The netchk Utility<span style="color:windowtext;
display:none">. </span><span style="color:windowtext;display:none">65</span></a></span></p>

<p class="MsoToc1"><span class="MsoHyperlink"><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Toc122125485">9<span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:windowtext;
font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Document Change History<span style="color:windowtext;display:none">. </span><span style="color:windowtext;display:none">67</span></a></span></p>

<p class="MsoNormal" align="center" style="text-align:center"><span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Times&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection3">

<h1><a name="_Toc122125444">1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Introduction</a></h1>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">This
document describes <b>XRootD</b> configuration directives for the <b>P</b>roxy<b>
S</b>torage<b> S</b>ervice<b>&nbsp; </b>(<b>pss</b>) components. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Configuration directives for each
component come from a configuration file. The </span><span class="StylePalatinoBold">XRootD</span><span class="StylePalatino"> structure requires
that all components read their directives from the same configuration file.
This is the configuration file specified when </span><span class="StylePalatinoBold">xrootd</span><span class="StylePalatino"> was started
(see the </span><span class="StylePalatinoBold">xrootd</span><span class="StylePalatino"> </span><span class="StylePalatinoBold">-c</span><span class="StylePalatino"> command line option). This is possible because each
component is identified by a unique 3-letter prefix. This allows a common
configuration file to be used for the whole system. </span></p>

<p class="MsoNormal"><img width="205" height="197" src="./XRootD Proxy Configuration_files/image003.png" align="left" hspace="12" alt="image003a.png"></p>

<p class="MsoNormal"><span class="StylePalatino">The particular components that
need to be configured are the file system plug-in (<b>ofs</b>) and the proxy storage
plug-in (<b>pss</b>). The relationship between <b>xrootd</b> and the plug-ins
is shown on the left. The protocol driver (<b>xrd</b>) runs the <b>xroot</b>
protocol which, in turn, utilizes the file system plug-in that, itself, relies
on the proxy system plug-in. This is collectively called <b>xrootd</b>, the
executable that encapsulates all of the components.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">The prefixes documented in this
manual are listed in the following table. The </span><span class="StylePalatinoBold">all</span><span class="StylePalatino"> prefix is used in
instances where a directive applies to more than one component. </span><span class="StylePalatinoItalic">Records that do not start with a recognized
identifier are ignored</span><span class="StylePalatino">. This includes blank
record and comment lines (i.e., lines starting with a pound sign, #). </span></p>

<p class="MsoNormal">&nbsp;</p>

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="100%" style="width:100.0%;border-collapse:collapse;border:none">
 <tbody><tr>
  <td width="23%" valign="top" style="width:23.58%;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="StylePalatinoBoldCentered">Prefix</p>
  </td>
  <td width="76%" valign="top" style="width:76.42%;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="StylePalatinoBoldCentered">Component</p>
  </td>
 </tr>
 <tr>
  <td width="23%" valign="top" style="width:23.58%;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoHeader" align="center" style="text-align:center"><b><span style="font-family:&quot;Courier New&quot;">ofs</span></b></p>
  </td>
  <td width="76%" valign="top" style="width:76.42%;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatinoBold">O</span><span class="StylePalatino">pen </span><span class="StylePalatinoBold">F</span><span class="StylePalatino">ile </span><span class="StylePalatinoBold">S</span><span class="StylePalatino">ystem coordinating </span><span class="StylePalatinoBold">acc</span><span class="StylePalatino">, </span><span class="StylePalatinoBold">cms</span><span class="StylePalatino">, <b>oss</b> &amp; </span><span class="StylePalatinoBold">pss</span><span class="StylePalatino"> components</span></p>
  </td>
 </tr>
 <tr>
  <td width="23%" valign="top" style="width:23.58%;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoHeader" align="center" style="text-align:center"><b><span style="font-family:&quot;Courier New&quot;">pfc</span></b></p>
  </td>
  <td width="76%" valign="top" style="width:76.42%;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoHeader"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Proxy
  File Cache (i.e. specialized proxy plug-in)</span></p>
  </td>
 </tr>
 <tr>
  <td width="23%" valign="top" style="width:23.58%;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoHeader" align="center" style="text-align:center"><b><span style="font-family:&quot;Courier New&quot;">pss</span></b></p>
  </td>
  <td width="76%" valign="top" style="width:76.42%;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoHeader"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">P</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">roxy</span><span class="StyleHeaderPalatinoChar"> </span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">S</span></b><span class="StyleHeaderPalatinoChar">ystem </span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">S</span></b><span class="StyleHeaderPalatinoChar">ervice (i.e., specialized <b>oss</b> plug-in)</span></p>
  </td>
 </tr>
 <tr>
  <td width="23%" valign="top" style="width:23.58%;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoHeader" align="center" style="text-align:center"><b><span style="font-family:&quot;Courier New&quot;">all</span></b></p>
  </td>
  <td width="76%" valign="top" style="width:76.42%;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatino">Applies the directive to the
  above components.</span></p>
  </td>
 </tr>
</tbody></table>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Refer to the manual </span><span class="StylePalatinoBold">Configuration File Syntax</span><span class="StylePalatino"> on how to specify and use conditional directives and set
variables. These features are indispensable for complex configuration files
usually encountered in large installations.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<span class="StylePalatino"><span style="font-size:12.0pt"><br clear="all" style="page-break-before:always">
</span></span>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">When you are not running a
clustered set of proxy servers, you need to specify the <b>ofs.osslib</b>
directive. The plug-in is encapsulated in <b>libXrdPss.so</b> and is installed
in the standard location. If you are clustering proxy servers (i.e. you
specified the all.role directive indicating you are clustering proxies, <b>libXrdPss.so</b>
is automatically loaded as the <b>ofs.osslib</b> plug-in.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">To properly configure an <b>XRootD</b>
proxy you need to review <b>xrd</b>, <b>xrootd</b>, and <b>ofs</b> directives
and specify the ones that are relevant to your installation. The <b>xrd</b> and
<b>xrootd</b> directives can be found in the </span><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">Xrd/XRootd Configuration Reference</span></b><span class="StylePalatino"> while the <b>ofs</b> directives can be found in the </span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Open File System &amp; Open
Storage System Configuration Reference</span></b><span class="StylePalatino">.
If you are configuring a proxy cluster then you will need to specify certain <b>cms</b>
directives. These can be found in the </span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Cluster
Management Service Configuration Reference</span></b><span class="StylePalatino">.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">The following section describes
the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Standard_Proxy_Service"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">standard
proxy service</span></a><span class="StylePalatino">. This proxy service is
primarily intended to be used for <b>LAN</b> access to bridge firewalls for
remote clients. While it includes a memory caching component that can improve
performance for <b>WAN</b> access in limited scenarios, it is not intended to
be used as a true <b>WAN</b> proxy. In a subsequent section the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Disk_Caching_Proxy"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">disk
caching proxy</span></a><span class="StylePalatino"> is described. This proxy
variant is intended to improve <b>WAN</b> access as it is able to cache files
or parts of files on disk at a remote location. Caching files or file segments
may minimize <b>WAN</b> traffic depending on the specific workload.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Hence, the standard proxy service
is intended to be used as a local proxy while the disk caching proxy is
intended to be used as a remote proxy.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">A proxy service, whether or not it
is a disk caching proxy, can be configured in direct mode or forwarding mode.&nbsp;
In direct mode the client is limited to initially contacting a particular
endpoint. In forwarding mode, the client is free to specify the actual endpoint
that is to be used for the initial contact.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<span class="StylePalatino"><span style="font-size:12.0pt"><br clear="all" style="page-break-before:always">
</span></span>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<h2><a name="_Toc122125445"><span class="StylePalatino">1.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="StylePalatino">Direct Mode Proxies</span></a></h2>

<p class="MsoNormal"><span class="StylePalatino">Direct mode proxies are the most
common kind of proxies and are suitable to directly fronting an <b>XRootD</b>
cluster. The <b>pss.origin</b> directive specifies the initial point of
contact. The following diagram illustrates a direct mode proxy.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><img border="0" width="584" height="152" id="Object 3" src="./XRootD Proxy Configuration_files/image004.png"></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">In the diagram the client present
a URL that identifies the proxy server or proxy cluster. The proxy then
contacts the data origin, a particular endpoint, on behalf of the client and
performs the requested operation. The endpoint can be an actual server or a
cluster redirector. This mode is suitable for incoming connections to a fire walled
cluster or outgoing connections to a particular data source.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Direct mode proxies can access
files (i.e. paths that start with a slash) or data object (i.e. identifiers
that do not start with a slash) depending on the specified <b>all.export</b>
directives. See the <b>Xrd/XRootd Configuration Reference</b> for more
information.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<h2><a name="_Toc122125446"></a><a name="_Forwarding_Mode_Proxies"></a><span class="StylePalatino">1.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="StylePalatino">Forwarding Mode Proxies</span></h2>

<p class="MsoNormal"><span class="StylePalatino">Forwarding mode proxies are
specialized proxies that allow the client to specify the actual endpoint to be
used for a request and suitable in cases where the client determines the actual
endpoint that must be used. The <b>pss.origin</b> directive specifies that the
endpoint will be supplied by the client, as shown below.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><img border="0" width="584" height="152" id="Object 4" src="./XRootD Proxy Configuration_files/image005.png"></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">In the diagram the client prefixes
the destination URL with the proxy location. The proxy server then contacts the
specified endpoint on behalf of the client. The client is free to specify any
valid endpoint. This mode is most suitable for outgoing connections and poses
certain </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Security_Considerations"><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">security issues</span></a><span class="StylePalatino"> that are described in a subsequent section. A valid
destination URL must specify the <b>xroot</b> or <b>root</b> protocol element.</span></p>

<h3><a name="_Toc122125447"><span class="StylePalatino">1.2.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="StylePalatino">Forwarding File Paths</span></a></h3>

<p class="MsoNormal"><span class="StylePalatino">When configuring a forwarding
proxy you should realize that from the proxys perspective the URL suffix
supplied by the client is initially taken as an actual path. This means that
you</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino">a) must
export at least some portion of the URL suffix, and </span></p>

<p class="MsoNormal" style="margin-left:49.5pt;text-indent:-13.5pt"><span class="StylePalatino">b) can perform authorization</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;"> <span class="StylePalatino">operations on the
specified URL (see the <b>Security Configuration Reference</b> for more
information).</span></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Exports of the form</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/xroot:/</b> <i>options</i></span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/root:/ </b>&nbsp;&nbsp;<i>options</i></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">satisfy the export requirement
(see the <b>OFS</b> reference manual for a description of the <b>all.export</b>
directive). You can specify longer export names in order to restrict the
endpoints that can be contacted using the forwarding proxy. However, since
multiple slashes are compressed before comparing the URL against the exported
path list, you must not specify successive slashes. For example, say you wanted
to restrict forwarding to only the host <b>foobar:1094</b>, then the exports
would be specified as</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/xroot:/foobar:1094/</b></span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/root:/foobar:1094/</b></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Even though the client would
actually suffix /xroot://foobar:1094/ to the proxys URL location. The same
applies to entries placed in the authorization file. All double slashes must be
removed in order for authorization rules to be matched. In both cases, the
clients destination must exactly match the export specification. As a side
note, error messages in the proxys log file will show URL portions of the path
without multiple slashes and should not cause any alarm.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">A better alternative is to use the
</span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Proxy_Server_Directives"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pss.permit</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> directive</span></a><span class="StylePalatino"> to restrict the set of target destinations. This allows
client to specify the target host in a variety of syntactic ways since the
permit applies to the actual resolved destination IP address. In this case you
only need to export the protocol segment of the destination URL.</span></p>

<span class="StylePalatino"><span style="font-size:12.0pt"><br clear="all" style="page-break-before:always">
</span></span>

<p class="MsoNormal"><span class="StylePalatino"><b>&nbsp;</b></span></p>

<h3><a name="_Toc122125448"><span class="StylePalatino">1.2.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="StylePalatino">Forwarding Object IDs</span></a></h3>

<p class="MsoNormal"><span class="StylePalatino">To exporting object IDs (i.e.
object names without a leading slash) via a forwarding proxy, the configuration
file must contain one of the following two export directives:</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
*</b></span></p>

<p class="MsoNormal"><span class="StylePalatino">or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>all.export *?</b></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">See the <b>Xrd/XRootD Configuration
Reference</b> for more information on using object IDs. Since object IDs do
not start with a slash; hence, cannot be confused with a file path, the specified
client destination URL must appear like an object ID (i.e. it may not start
with a slash). Using an absolute file path URL to forward an object ID converts
the object ID to a file path and access will likely fail.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Additionally, you can neither use
the authorization framework nor the <b>all.export</b> directive to restrict
forwarding by destination. Instead you must use the <b>pss.permit</b>
directive. This is because object IDs are arbitrary and are only recognized as
such in certain restricted contexts.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">The following table compares
forwarding an absolute path to an Object ID to a server named foobar:4096 via
myproxy:1094 (notice the missing double slashes for myobject before the
second xroot and the pathname, myobject).</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">
 <tbody><tr>
  <td width="133" valign="top" style="width:99.9pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatino"><b>Access Target</b></span></p>
  </td>
  <td width="481" valign="top" style="width:360.9pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatino"><b>Client URL Specification</b></span></p>
  </td>
 </tr>
 <tr>
  <td width="133" valign="top" style="width:99.9pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatino">/my/data</span></p>
  </td>
  <td width="481" valign="top" style="width:360.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatino">xroot://myproxy:1094//xroot://foobar:4096//my/data</span></p>
  </td>
 </tr>
 <tr>
  <td width="133" valign="top" style="width:99.9pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatino">myobject</span></p>
  </td>
  <td width="481" valign="top" style="width:360.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span class="StylePalatino">xroot://myproxy:1094/xroot://foobar:4096/myobject</span></p>
  </td>
 </tr>
</tbody></table>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">A forwarding proxy server is
capable of accepting file paths as well as object IDs as long as the correct exports
are specified. </span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<span class="StylePalatino"><span style="font-size:12.0pt"><br clear="all" style="page-break-before:always">
</span></span>

<p class="MsoNormal"><a name="_Security_Considerations"></a><span class="StylePalatino">&nbsp;</span></p>

<h2><a name="_Toc122125449"><span class="StylePalatino">1.3<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="StylePalatino">Combination Mode Proxies</span></a></h2>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">A proxy server can be configured
in direct more as well as forwarding mode. This is known as a combination mode
proxy and is done via a special form of the <b>pss.origin</b> directive. For
instance, specifying</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>pss.orgin
= </b><i>host</i><b>:</b><i>port</i></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Allows a client to forward a
connection via a URL type of path or connect to a particular destination (i.e. <i>host</i>:<i>port</i>)
if the path is not a URL. The exports must allow such combinations. For
instance, the trio of</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/xroot:/</b> <i>options</i></span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/root:/ </b>&nbsp;&nbsp;<i>options</i></span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/atlas &nbsp;</b>&nbsp;&nbsp;<i>options</i></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">indicates that <b>xroot:</b> and <b>root:</b>
URLs should forward the request to the client-specified destination while paths
starting with /atlas connect to the destination specified in the <b>pss.origin</b>
directive.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">In practice, if it is sufficient
for the destination host to enforce its exports the whole specification can
collapse to a single specification</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatino"><b>all.export
/ </b><i>options</i></span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">as the proxy recognizes a URL if
it begins with xrootd:/ or root:/ and treats anything else as a regular
path.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

</div>

<b><span style="font-size:14.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span></b>

<div class="WordSection4">

<h2><a name="_Toc122125450">1.4<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Minimal Sample Configuration Files</a></h2>

<p class="MsoNormal">&nbsp;</p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># Specify that we are a direct mode proxy fronting the host</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># data.stanford.edu (server or redirector)</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">pss.origin data.stanford.edu</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># The export allows access to any path via proxy as the</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># origin host will enforce its own exports</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">all.export /</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># We need to load the proxy plugin for this to actually work</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">ofs.osslib libXrdPss.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Minimal Direct Mode Proxy Configuration</span></b></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># Specify that we are a forwarding proxy</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">pss.origin =</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># The export allows xroot and root type URLs destinations</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">all.export /xroot:/</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">all.export /root:/</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># We need to load the proxy plugin for this to actually work</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">ofs.osslib libXrdPss.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Minimal Forwarding Mode Proxy
Configuration</span></b></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># Specify that we are a forwarding proxy for URL type of paths</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># and a direct mode proxy for any other type of path</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">pss.origin = data.stanford.edu</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># The export allows any path to be specified. However, paths</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># starting with /xroot:/ or /root:/ are treated as URLs</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># and are forwarded. Anything else is accessed via</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># data.stanford.edu</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">all.export /</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;"># We need to load the proxy plugin for this to actually work</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">ofs.osslib libXrdPss.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Minimal Combination Mode Proxy
Configuration</span></b></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection5">

<h1><a name="_Toc122125451"></a><a name="_Standard_Proxy_Service"></a><span class="StylePalatino">2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="StylePalatino">Security Considerations</span></h1>

<p class="MsoNormal"><span class="StylePalatino">Security is a combination of
authentication and authorization. In the <b>XRootD</b> proxy there are three
aspects to consider, as shown below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><img border="0" width="600" height="105" id="Picture 3" src="./XRootD Proxy Configuration_files/image006.jpg" alt="PSS-Security-Blocks.png"></span></p>

<p class="MsoNormal"><span class="StylePalatino">The application first
authenticates with the <b>xrootd</b> running <b>xroot</b> or <b>http</b>
protocol. This part needs to be configured. For <b>xroot</b> protocol, you need
to specify the <b>xrootd.seclib</b> directive as well as certain <b>sec</b>
prefixed directives. The <b>https</b> protocol automatically attempts to use <b>x509</b>
authentication. Usually, authorization is required as well to limit what the
application can do relative to a file path. This is handled by the <b>OFS</b>
(Open File System) plug-in and is controlled by the <b>ofs.authorize</b> and <b>ofs.authlib</b>
directives as well as any need <b>acc</b> directives. The <b>xrootd</b> directives
can be found in the <b>Xrd/XRootD Reference</b>, the <b>ofs</b> directives in
the <b>Open File System Reference</b>, and <b>sec</b> and <b>acc</b> directives
in the <b>Security Reference</b>. </span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Control is handed off to proxy
plug-in that eventually calls the imbedded <b>xroot</b> client to communicate
to the desired storage endpoint. The storage endpoint may also require
authentication. At this stage, no configuration is needed as the storage
endpoint dictates how authentication happens. However, the client must be
capable of providing the necessary credentials. In the <b>XRootD</b> case there
are two main (and some minor) authentication schemes:</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span class="StylePalatino">a)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="StylePalatino"><b>x509</b> (either <b>GSI</b> or proxy
<b>https</b>) which requires that the client supply a proxy certificate for
exclusive use by the server (e.g. a robot certificate).</span></p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span class="StylePalatino">b)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="StylePalatino"><b>SSS</b> (Simple Shared Secret) which
requires the client have access to a shared private key that is used to
authenticate with the endpoint.</span></p>

<p class="MsoNormal"><span class="StylePalatino">Neither of these schemes requires
any configuration. They only require that the certificate or key be placed in a
well known location that is only accessible by the user id associated with the
running server.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Proxy servers never forward client
credentials to the endpoint that they contact. Instead, they use their own
credentials to establish authenticity with the <b>xrootd</b> server. This works
well for incoming connections as the proxy can validate the client before
performing any actions on behalf of the client.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<span class="StylePalatino"><span style="font-size:12.0pt"><br clear="all" style="page-break-before:always">
</span></span>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">However, outgoing connections pose
a problem; especially for forwarding proxies which are meant to be used for
outgoing connections. Validating a client using internal site rules does not
necessarily capture any specific access restrictions in effect outside the
site. For instance, a site may authorize an incoming client but that client
might not be actually authorized by the final endpoint. If the proxy itself is
authorized by the final endpoint then, in effect, the client gets access to
resources that would otherwise be prohibited if the client made direct contact
with the outside endpoint. Consequently, great care must be exercised when
providing resources using a forwarding proxy.</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatino">Communications within a site are
easier to manage. For instance it is possible to configure the proxy server to
pass the identity to another server using <b>SSS</b> authentication between the
proxy server and the internal endpoint. That way, a simple authentication
scheme can be used within a site with the full fledged complex identity of the
client is passed along to the final endpoint.</span></p>

<h2><a name="_Toc122125452"><span class="StylePalatino">2.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="StylePalatino">Privacy and Integrity</span></a></h2>

<p class="MsoNormal"><span class="StylePalatino">While the <b>xroot</b> protocol
can be configured to provide client-server communication integrity; neither the
<b>xroot</b> nor <b>http</b> protocols provide privacy (<b>http</b> is
incapable of providing integrity). If either is required then communications
must use Transport Layer Security (<b>TLS</b>). For application to proxy server
communications, <b>TLS</b> needs to be configured using the <b>xrd.tls</b> and <b>xrd.tlca</b>
directives (see the <b>Xrd/XRootD Reference</b>). These can also be used to
configure <b>http</b> to use <b>TLS</b>. <b>TLS</b> is used when the client
uses <b>xroots</b> or <b>https</b> protocols in place of <b>xroot</b> or <b>http</b>,
respectively. In the <b>xroot</b> case, the client may continue to use <b>xroot</b>
protocol but the server is free to force the client to switch to <b>xroots</b>
when needed.&nbsp; The same considerations apply when the proxy server communicates
with the storage endpoint since the proxy is merely a client communicating on
behalf of the application.</span></p>

</div>

<b><span style="font-size:16.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span></b>

<div class="WordSection6">

<h1><a name="_Toc122125453">3<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Automating Proxy Service Selection</a></h1>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">One of
the biggest challenges to force clients to use a proxy server without requiring
users to change the URLs they normally would use. The <b>XRootD</b> framework
allows you to use an <b>XRootD</b> client plug-in to accomplish this in a
transparent way.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">A
supplied <b>XRootD</b> client plug-in,</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
</span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">libXrdClProxyPlugin.so</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">, can be used to tunnel traffic
through an <b>XRootD</b> proxy server. The proxy endpoint is specified via the
environment variable <b>XROOT_PROXY</b>. To enable this plug-in the environment
variable<b> XRD_PLUGIN</b> needs to specify the path to the <b>libXrdClProxyPlugin.so</b>
library. An example is shown below.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
</span></p>

<h1 style="margin-left:0in;text-indent:0in">&nbsp;</h1>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">XRD_PLUGIN=/usr/lib64/libXrdClProxyPlugin.so </span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">XROOT_PROXY=root://esvm000:2010//</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">xrdcp -f -d 1 root://bigdata.cern.ch//tmp/file1.dat
/tmp/dump</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">[1.812kB/1.812kB][100%][======================================][1.812kB/s]</span></p>

<p class="MsoNormal" style="border:none;padding:0in">&nbsp;</p>

</div>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">This
will first redirect the client to the <b>XRootD</b> server at esvm000:2010,
presumably a forwarding proxy, will fetch the data from the <b>XRootD</b>
server at bigdata.cern.ch:1094 (i.e. using the default port).</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">You
can also specify a list of exclusion domains, for which the original URL will
not be modified even if the plug-in is enabled. An example is shown below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">XRD_PLUGIN=/usr/lib64/libXrdClProxyPlugin.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">XROOT_PROXY=root://esvm000.cern.ch:2010//</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">XROOT_PROXY_EXCL_DOMAINS="some.domain,
some.other.domain, cern.ch "</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">xrdcp -f -d 1 root://esvm000.cern.ch//tmp/file1.dat
/tmp/dump</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">This
will not redirect the traffic since the original URL
"root://esmv000.cern.ch//" contains the "cern.ch" domain
which is in the list of excluded domains. This is useful when a proxy server is
only needed for out of domain access.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Proxy
services can be configured to automatically be in effect via a client configuration
file. The <b>XRootD</b> client looks for plug-in configurations in three
places:</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Global:
/etc/xrootd/client.plugins.d/</span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">User:
~/.xrootd/client.plugins.d/</span></p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Application:
&nbsp;<b>XRD_PLUGINCONFDIR</b> envar setting.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
plug-in manager will first search for global configuration files. The global
settings may be overridden by user configuration files. Global and user
settings may be overridden by configuration files found in a directory pointed
to by the</span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">XRD_PLUGINCONFDIR</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> environmental variable, if
set. Overrides are based on the name of the configuration file (i.e. only one
configuration of the same name is processed).</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Be
aware that the client plug-in manager only processes files that end with <b>.conf</b>.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">All
plug-in configuration files specify key-value settings that control plug-in
processing. A proxy service plug-in configuration file contents for the
previous <b>xrdcp</b> example using environmental variables is shown below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">url = *</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">lib = /usr/lib64/libXrdClProxyPlugin.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">enable = true</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">xroot_proxy = root://esvm000.cern.ch:2010//</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt;
font-family:&quot;Courier New&quot;">xroot_proxy_excl_domains = some.domain,some.other.domain,cern.ch</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:10.0pt">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Placing
the above configuration in the global directory forces all <b>XRootD</b> client
applications to transparently forward all requests </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">to </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">esvm000.cern.ch:2010</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> which will then proxy the
requests as needed. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
client plug-in manager silently ignores any configuration files that are
missing the <b>url</b>, <b>lib</b>, or <b>enable</b> keywords. You must
turn on debugging to see which configuration files are actually processed.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The automatic
proxy selection described in this section is only available starting in release
4.7.0.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Times&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection7">

<h1><a name="_Toc122125454">4<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Standard Proxy Service</a></h1>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>ofs</b>
layer can provide a proxy service by using a special <b>oss</b> plug-in, <b>libXrdPss.so</b>.
A proxy service is required if wish to provide public internet access to data
served by <b>xrootd</b> servers that can only access a private network or sit
behind a firewall. You do not need to setup a proxy service if all of your <b>xrootd</b>
servers are accessible via the public network.</span></p>

<p class="MsoNormal"><img width="482" height="164" src="./XRootD Proxy Configuration_files/image007.jpg" align="left" hspace="12" alt="ProxyPix_0.gif"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">As
shown in the diagram to the left, a proxy server must have access to the public
as well as private or firewalled network. Typically, machines with this
capability are called border nodes. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><img width="484" height="154" src="./XRootD Proxy Configuration_files/image008.jpg" align="left" hspace="12" alt="ProxyPix_1.gif"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">A
border node is a computer that either has access to the public as well as the
private network using two distinct IP addresses or one that is allowed to
access the public network through a firewall using a single local IP address.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
particular scenario in effect is a local option determined by your particular
network setup. The biggest challenge is to properly setup the network
configuration; a task best left to networking personnel.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Two IP
address scenarios require static routes to be established within the border machine
so that the local <b>XRootD</b> cluster is always found using the private
network while internet traffic uses the public network. Single IP address
scenarios (i.e. firewalled networks) require that special firewall rules be
established to allow internet access to the proxy server on the <b>XRootD</b>
port while disallowing internet access to the local <b>XRootD</b> cluster.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Once
routes or firewall rules have been established, you should use the <b>netchk</b>
utility, found in the <b>XRootD</b> <b>utils</b> directory, to see if you have
access from an external public node all the way to the redirector and each data
server node. This verifies that network routing or firewall rules have been
correctly established. In order to use <b>netchk</b>, <b>perl</b> must be
installed on each machine and you must be able to do an <b>ssh</b> login to
each one of them. The utility is described in the last subsection of this
section.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
following sections describe how to setup a simple proxy server as well as a
proxy server cluster. Additionally, various tuning options are also described.
These options are independent of whether you setup a simple proxy or a proxy
cluster.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h2><a name="_Toc122125455">4.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Simple Proxy Server</a></h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
simple proxy server is configured as a non-clustered <b>XRootD</b> server. This
means you neither specify the <b>all.role</b> nor the <b>all.manager</b>
directives documented in the <b>Cluster Management Service Configuration
Reference</b>. Other directives may be specified at your discretion.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">You
control which paths are publically available using the <b>all.export</b>
directive that is specific to the proxy server (i.e. the proxy will only allow
access to the specified paths). This also means that data servers can provide
read-write access to particular paths while the proxy server can only provide
read-only access to some or all such paths. The same holds true for the <b>stage</b>
attribute. You can prohibit staging files via the proxy by exporting the files
via the proxy with the <b>nostage</b> attribute.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>xrd.allow
</b>directive can be used to limit which range of hosts can use the proxy
server; while the <b>sec.protocol</b> directive can be used to limit access to
the proxy server to clients that can only be properly authenticated. These
directives do not differ from those you would use in a standard <b>XRootD</b>
cluster and documentation can be found the <b>XRootD</b> and security reference
manuals.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Very
few directives are needed to setup a simple proxy server. A sample
configuration file matching the illustrated cluster setup is shown below.
Directives shown in <b><span style="color:#C00000">red</span></b> are <b><i><span style="color:#C00000">required</span></i></b>.</span></p>

<span class="StylePalatino"><span style="font-size:12.0pt"><br clear="all" style="page-break-before:always">
</span></span>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><img width="474" height="230" src="./XRootD Proxy Configuration_files/image009.jpg" align="left" hspace="12" alt="ProxyPix_2.gif"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
<b>ofs.osslib</b> directive tells the <b>ofs</b> layer to use the plug-in that
changes a regular <b>XRootD</b> server into a proxy server. Normally, the
plug-in is named libXrdPss.so.&nbsp; You must specify the location of this shared
library plug-in. To support checksum calculations you must also indicate that
the checksum manager is a proxy as well. This is done loading the proxy library
via the <b>ofs.ckslib</b> directive.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>all.export</b>
directive restricts the proxy server to those paths you want to be publically
accessible. Most likely, you will also designate these paths as read-only and
nostage regardless of how they are locally served within the cluster. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>pss.origin</b>
directive tells the plug-in where the XRootD clusters redirector is located
(in the example it is x.domain.edu). The port number must match the port number
used by your local clients (in the example this is 1094). Indeed, the proxy
server is, in fact, just another local client that is capable of serving data
across the public internet.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;The directives,
<b>xrd.allow</b> and <b>sec.protocol</b>, are used to limit who can use the
proxy server. The <b>xrd.allow</b> directive can restrict access by domain when
you use the asterisk notation. The <b>sec.protocol</b> directive can restrict
access to authenticated clients. While neither is required, your particular
security requirements may force you to specify one or both of them.</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection8">

<h2><a name="_Toc122125456">4.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Proxy Cluster</a></h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">A
proxy cluster consists of two or more simple proxy servers arranged as an <b>XRootD</b>
cluster. While one could use a load-balancing DNS to bridge together multiple
proxy servers, using the <b>XRootD</b> cluster management infrastructure to do
this provides not only true load balancing but also fail-over. That is, should
a proxy server become unresponsive an <b>XRootD</b> client will automatically
switch to another working proxy server. This also allows you to take down proxy
servers for maintenance without worrying if they are currently in use, as long
as one proxy server remains.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><img width="479" height="209" src="./XRootD Proxy Configuration_files/image010.jpg" align="left" hspace="12" alt="ProxyPix_3.gif"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
mechanics of setting up a proxy cluster is largely the same as setting up a
regular <b>XRootD</b> cluster. However, different parameters are specified for
the <b>all.role</b> and <b>all.manager</b> directives. Additionally, unlike a
simple proxy server you must also run a <b>cmsd</b> daemon everywhere you run
an <b>XRootD</b> proxy server and you must configure a proxy redirector. The
initial point of contact for external clients is the proxy redirector. This is
shown in the adjacent diagram.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Setting
up a proxy cluster is a minor variation of setting up a standard <b>XRootD</b>
cluster. For proxy servers you need to identify the proxy manager and tell each
proxy server that it is part of a proxy cluster. This allows the proxy servers
to cluster around the proxy manager and the proxy manager then knows how to
redirect clients to a working proxy server. A sample configuration file
follows. You should compare it to one for a simple <b>XRootD</b> data cluster.</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><img width="486" height="468" src="./XRootD Proxy Configuration_files/image011.jpg" align="left" hspace="12" alt="ProxyPix_4.gif"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">All
<b><span style="color:red">red</span></b> directives are required. The <b>all.export</b>
and <b>pss.origin</b> directives are the same as for simple proxy servers.
These tell the <b>XRootD</b>s what to expor, and where the <b>XRootD</b> data
cluster resides, respectively.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>all.manager</b>
directive tells each proxy server who the proxy redirector is and what port the
<b>cmsd</b> is using (here we arbitrarily chose 1213).</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">In the
<b>if-fi</b> construct roles are assigned to each server. Since z.domain.edu is
the redirector, its <b>role</b> is <b>proxy manager</b>. All other nodes in the
proxy cluster have a <b>role</b> of <b>proxy server</b>. This also causes the
ofs layer to automatically load <b>libXrdPss.so</b>, by default, as the <b>ckslib</b>
and the <b>osslib</b>; making the <b>ofs.ckslib</b> and<b> ofs.osslib</b>
directives unnecessary. If the defaults are inappropriate, specify these
directives to override the default.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Since
we only want true proxy servers to be allowed to connect to the <b>cmsd</b>
running on the proxy redirector node, the second <b>if-fi</b> construct
specifies that only those nodes are allowed to connect. This is especially
important because the proxy redirector is publically accessible and cmsd
connections should be restricted to a known set of hosts. The particular
example uses a generic specification. You may wish to make allow more
specific. For instance, if proxy servers have a <b>DNS</b> name of proxy<i>nn</i>.domain.edu,
where <i>nn </i>is a sequence number, then it would be better to specify <b>xrd.allow
host proxy*.domain.edu</b>.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
green directives, <b>xrd.allow</b> and <b>sec.protocol</b>, are used to limit
who can use the proxy servers. The <b>xrd.allow</b> directive can restrict
access by domain when you use the asterisk notation. The <b>sec.protocol</b>
directive can restrict access to authenticated clients. While neither is
required, your particular security requirements may force you to specify one or
both of them. You should especially note that these directives <i>apply only</i>
to the <b>XRootD</b> and not the <b>cmsd</b>. This is why they have been
qualified by an <b>if-fi</b> clause that applies them only to the <b>XRootD</b>
proxy servers.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
default load distribution is to round-robin requests across all available proxy
servers. You can use the <b>cms.sched</b> directive for the proxy redirector
along with the <b>cms.perf</b> directive for proxy servers to do load balancing
on actual load. These directives are described in the <b>cmsd</b> reference
manual. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">When
configuring a proxy cluster, all proxy servers must either be in direct mode, forwarding
mode, or combination mode. Any attempt to mix modes will lead to unpredictable
result.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">If you
are using disk-caching proxies, a different type of cluster configuration must
be used. Refer to the description of </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Disk_Caching_Proxy_2"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">disk caching proxy clusters</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> for details.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

</div>

<b><span style="font-size:14.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span></b>

<div class="WordSection9">

<h2><a name="_Proxy_Server_Directives"></a><a name="_Toc122125457"></a><a name="_Proxy_Server_Directives_1"></a>4.3<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Configuration</h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
proxy server plug-in is based on the <b>XRootD</b> <b>POSIX</b> library which,
in turn, uses the <b>XRootD</b> <b>client</b> library. Each of these components
has specific options that can be specified in the same configuration file used
for the proxy setup. Specifically, the following options are processed by the
proxy</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">all.export</span></b></p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">oss.defaults</span></b></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Proxy
specific directives and options are described in the following sections.</span></p>

<h3><a name="_Toc122125458">4.3.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Required Directives</a></h3>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;background:yellow">pss.origin </span></b><span style="font-family:
&quot;Courier New&quot;;background:yellow">&nbsp;</span><i><span style="font-family:&quot;Courier New&quot;;
background:yellow">dest </span></i><span style="font-family:&quot;Courier New&quot;;
background:yellow">| <b>=</b>[<i>plist</i>] [<i>dest</i>] | <i>path</i></span><span style="font-family:&quot;Courier New&quot;">&nbsp; </span><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:#C00000">required directive</span></i></p>

<div class="MsoNormal" align="center" style="text-align:center;border:none;
padding:0in"><i><span style="font-family:&quot;Courier New&quot;">

<hr size="2" width="100%" align="center">

</span></i></div>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-size:
8.0pt;font-family:&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">dest: &nbsp;&nbsp;&nbsp; host</span></i><span style="font-family:&quot;Courier New&quot;">[:<i>port
</i>|<i> port</i>] | <i>url</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-size:
8.0pt;font-family:&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">url:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prot</span></i><b><span style="font-family:&quot;Courier New&quot;">://</span></b><i><span style="font-family:&quot;Courier New&quot;">host</span></i><span style="font-family:&quot;Courier New&quot;">[<b>:</b><i>port</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">prot</span></i><span style="font-family:&quot;Courier New&quot;">:&nbsp;&nbsp;&nbsp;&nbsp; <b>http</b>
| <b>https</b> | <b>root</b> | <b>roots</b> | <b>xroot</b> | <b>xroots</b></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">plist</span></i><b><span style="font-family:&quot;Courier New&quot;">:&nbsp;&nbsp;&nbsp; </span></b><i><span style="font-family:&quot;Courier New&quot;">prot</span></i><span style="font-family:&quot;Courier New&quot;">[<b>,</b><i>prot</i>[<b>,</b>]]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Where:</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">origin </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies the location of the
redirector or server for which the server being configured is to proxy. <b><i>This
directive is required</i></b>. You may specify this is a <i>host</i> and
optional <i>port</i> or a <i>url</i>. See the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Specifying_the_origin_1"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">section</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> that describes when you should
use&nbsp; a <b>URL</b> format.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic">host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
DNS name or IP address of the redirector or server being proxied. </span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic">port&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
TCP port number or service name of the redirector or server associated with <i>host</i>.
The port may be specified with an adjacent colon or space separation. The
default is 1094.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">=</span></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Configures the proxy in </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Forwarding_Mode_Proxies"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">forwarding</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> mode where the client supplies
the actual endpoint. If a <i>host</i> and optional <i>port</i> follows the
equals sign then this endpoint is used when the client has not specified a <b>root</b>
or <b>xroot</b> URL as an endpoint. Otherwise, the client receives a not
supported error. The equal sign may be followed by a list of <i>additional</i>
acceptable protocols. The default set includes <b>root</b>, <b>roots</b>, <b>xroot</b>,
and <b>xroots</b>. These protocols are always acceptable.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic">path</span><span class="StylePalatinoItalic"><span style="font-style:normal">&nbsp;&nbsp;&nbsp;&nbsp; specifies the path to a directory in a locally
mounted file system.</span></span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<h4><a name="_Toc122125459"></a><a name="_Specifying_the_origin_1"></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.1.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Specifying
the origin as a URL</span></h4>

<p class="MsoBodyTextIndent2" style="margin-left:0in">Normally, the proxy uses <b>xroot</b>
protocol (equivalent to <b>root</b> protocol) to communicate with the origin.
If the communications must be encrypted (i.e. <b>TLS</b>) or you wish to use <b>http</b>
protocol, the origin must be specified in <b>URL</b> format so that correct
protocol is used. For <b>TLS</b> with <b>xroot</b> protocol; specify <b>xroots</b>
or <b>roots</b>. For unencrypted <b>http</b> protocol, specify <b>http</b>. For
<b>http</b> using <b>TLS</b>, specify <b>https</b>.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in">&nbsp;</p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Be aware
that using <b>http</b> or <b>https</b> as the origin protocol requires that you
configure the embedded <b>xroot</b> client that the proxy uses to automatically
load an <b>http</b> plug-in so that it can use <b>http</b> protocol. The proxy
server will not function unless this is done.</span> </p>

<h4><a name="_Toc122125460"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.1.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Specifying the origin as a path</span></a></h4>

<p class="MsoBodyTextIndent2" style="margin-left:0in">It is possible to use a
directory in a locally mounted file system as the origin. When using a path as
the origin, the specified origin is designated as a read/only file system and
no modifications are allowed. The practical use of local file system origins is
to add a cache for a local file system, typically a distributed file system
such as Lustre or GPFS. This can alleviate many performance problems,
especially when the cache uses solid state devices.</p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection10">

<h3><a name="_Toc122125461">4.3.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Data Caching Directives</a></h3>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.cache&nbsp;&nbsp;&nbsp;&nbsp; </span></b><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Memory_Caching_Proxy_1"><i><span style="font-family:&quot;Courier New&quot;">see memory caching section</span></i></a></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.cachelib&nbsp; </span></b><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Disk_Caching_Proxy_2"><i><span style="font-family:&quot;Courier New&quot;">see disk caching section</span></i></a></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.ccmlib&nbsp;&nbsp;&nbsp; </span></b><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Disk_Caching_Proxy_2"><i><span style="font-family:&quot;Courier New&quot;">see disk caching section</span></i></a></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.dca [group | world] </span></b><span style="font-family:
&quot;Courier New&quot;">[<b>recheck </b>{<i>tm</i> |<b> off</b>}]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Where:</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">dca </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>recheck
</b>{<i>tm</i> |<b> off</b>}]</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Enables
direct cache access if the proxy server is configured to be a </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Disk_Caching_Proxy"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">disk
caching server</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">.
Direct cache access is only available for clients that can be redirected to an
actual file (i.e. release 4.8.0 or above). The parameters are:</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">group&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span class="StylePalatinoItalic"><span style="font-style:normal">the file mode is set
to group read access prior to redirecting the client to directly access the
file. This is the default.</span></span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">world&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span class="StylePalatinoItalic"><span style="font-style:normal">the file mode is set
to world read access prior to redirecting the client to directly access the
file.</span></span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">recheck</span></b>
tm</span><span class="StylePalatinoItalic"><b><span style="font-style:normal">&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The number of seconds between
checks whether or not the file is fully cached. The client is redirected to the
file on the next read should the file be fully cached. This is only done should
the client support redirects on a read request (i.e. release 4.9.0 or above).
Specify for <i>tm</i> the number of seconds between checks. You may also suffix
<i>tm</i> with <b>h</b>, <b>m</b>, or <b>s</b> to indicate <b>h</b>ours, <b>m</b>inutes,
or <b>s</b>econds, respectively.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">recheck off&nbsp; </span></b></span><span class="StylePalatinoItalic"><span style="font-style:normal">Turns off periodic
checking for a fully cached file. This is the default. The client is only
redirected to the file upon opening it should it be fully cached</span></span></p>

<h4><a name="_Toc122125462"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.2.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Direct Cache Access</span></a></h4>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
proxy system service, when configured to be a disk caching proxy, supports
direct cache access should the file be fully cached. This only makes sense when
the cache is directly available to clients using the service. This is normally
the case when the cache is located on a distributed file system (e.g. <b>GPFS</b>,
<b>Lustre</b>, etc) and all nodes running client applications have the file
system mounted at the same mount-point as the proxy service. Direct cache
access is a feature of the <b>P</b>roxy <b>S</b>torage <b>S</b>ervice and must
be enabled using the <b>pss.dca</b> </span>directive.</p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Direct
cache access can provide a significant performance enhancement, especially if
the file system uses <b>RDMA</b> to transfer data to the client. Even without <b>RDMA</b>,
eliminating the server between the client and the data can substantially
increase performance.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Direct
cache access is only available to clients that support redirection to a file on
open (i.e. release 4.8.0). The secondary mode of redirecting the client to a
file during read operations is only supported for release 4.9.0 clients. Should
a client not support the required redirection level, the Proxy Storage System
selectively inhibits redirecting the client and continues to provide the
appropriate level of access.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">To
maintain secure access, clients using direct access should share a group with
the user running the proxy cache service. This allows the clients and the proxy
service to access the file via a group read access. If this is not possible,
you may use the <b>world</b> option, though this would allow anyone to read the
file from the cache.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h3><a name="_Toc122125463">4.3.3<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Debugging Directives</a></h3>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.debug </span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.trace </span></b><span style="font-family:&quot;Courier New&quot;">{<b>all</b>
| <b>on</b> | <b>debug</b>}</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Where:</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">debug </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Enables
debug output in the proxy layer.</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">&nbsp;</span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">trace</span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Enables debug output in the <b>POSIX</b>
layer. Each option enables the tracing of events up to a certain level:</span></p>

<p class="MsoNormal" style="margin-left:81.0pt;text-indent:-45.0pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> informational events.</span></p>

<p class="MsoNormal" style="margin-left:81.0pt;text-indent:-45.0pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span class="StylePalatinoItalic"><span style="font-style:normal">warning events.</span></span></p>

<p class="MsoNormal" style="margin-left:81.0pt;text-indent:-45.0pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">debug&nbsp;&nbsp; </span></b></span><span class="StylePalatinoItalic"><span style="font-style:normal">error events.</span></span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h3><a name="_Toc122125464">4.3.4<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Path Processing Directives</a></h3>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-size:
8.0pt;font-family:&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.localroot</span></b><i><span style="font-family:&quot;Courier New&quot;">
path</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.namelib [-lfncache[src[+]]] [-lfn2pfn]</span></b><span style="font-family:&quot;Courier New&quot;"> <i>path </i>[<i>parms</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.reproxy</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-size:
8.0pt;font-family:&quot;Courier New&quot;">&nbsp;</span></i></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Where:</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">localroot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Configures
the default name- to-name mapping using the specified path. The action is
identical to that of <b>oss.localroot </b>but is only used by the proxy to map
file names prior to requesting action from the origin.</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">namelib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies
the name- to-name mapping plug-in library. This directive works just like the <b>oss.namelib</b>
directive but only applies to the proxy server. When neither the <b>-lfncache </b>nor
<b>-pfn2lfn</b> options are specified, then <b>-pfn2lfn</b> is assumed.
Otherwise, you must specify <i>all</i> the required options:</span></p>

<p class="MsoNormal" style="margin-left:117.0pt;text-indent:-81.0pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">-lfncache</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calls the <b>namelib</b>
plugins <b>pfn2lfn()</b> method to convert the incoming physical filename to a
logical one. That filename is used to track the file in any configured cache.
This implies that different physical filenames may map onto the same file as
long as they have the same logical name.</span></p>

<p class="MsoNormal" style="margin-left:117.0pt;text-indent:-81.0pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">-lfncachesrc</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Performs the same action
as <b>-lfncache</b> but also passes a single <b>CGI</b> element indicate the
data source in <b>URL</b> format as</span></p>

<p class="MsoNormal" style="margin-left:117.0pt;text-indent:-81.0pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; src=</span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">protocol</span></i><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">://</span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">host</span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>:</b><i>port</i>]</span></p>

<p class="MsoNormal" style="margin-left:117.0pt;text-indent:-81.0pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">-lfncachesrc+</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp; Performs the same action as
<b>-lfncache</b> but also appends all of the <b>CGI</b> elements that are
present on the <b>URL</b> to be used.</span></p>

<p class="MsoNormal" style="margin-left:117.0pt;text-indent:-81.0pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">-lfn2pfn</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calls the <b>namelib</b>
plugins <b>lfn2pfn()</b> method to convert the incoming logical filename to a
physical one. That filename is used to access the file at the specified <b>origin</b>.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">reproxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">This
directive configures the proxy server for third party copy targeted towards
writable origins.&nbsp; This is a very specialized feature and works only with
specific storage system (e.g. EOS) and is explained in the next section.</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h4><a name="_Toc122125465">4.3.4.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Reproxying Third Party Copy</a></h4>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
proxy server is capable of handling third party copy requests (<b>TPC</b>).
This allows data to flow through a firewall directly from a source to
destination. In most cases this works with no special accommodation for the
target endpoint. In some cases, however, certain endpoints require that the
proxy be aware of the actual server creating the file. This is required when
the proxy is used to also track the progress of the copy. Certain storage
system, like <b>EOS</b>, track file creation at the final endpoint and when
file status is requested from the cluster redirector, the returned information
always shows zero length until the file is closed. Since externally is appears
the copy is making no progress the copy operation, in most cases, is
terminated.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
mechanism used by the transfer agent to communicate the actual endpoint to the
proxy server is:</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">1)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">When the
transfer agent starts the environmental variable <b>XRD_CPTARGET </b>is set to
contain a local path that the proxy server expects to find a symlink that
contains the <b>URL</b> of the final endpoint.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">2)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
transfer agent should create such a symlink once it determines the final
endpoint.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">3)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Whenever an
<b>fstat()</b> request is processed for the destination file the proxy server
checks for a symlink whose path matches&nbsp; <b>XRD_CPTARGET</b> given to the
transfer agent.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">If the
symlink exists, it is read and the symlink deleted. The contents of the symlink
is used to issue a <b>stat()</b> request to get the state of the file. The
result is returned to <b>fstat()</b> issuer.</span></p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">5)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Should the
final endpoint change, the transfer agent should create a new symlink with the
correct <b>URL</b>.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Currently,
only <b>xrdcp</b>, version 5.3.0 or higher, supports this mechanism. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h3><a name="_Toc122125466">4.3.5<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Networking Directives</a></h3>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.inetmode {v4 | v6}</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Where:</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">inetmode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Specifies
which network stack to use when connecting to other servers. The default is
determined by the <b>-I</b> command line option; which defaults to <b>v6</b>.
Options are:</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">v4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Use the IPV4 network stack to
connect to servers. This means only servers reachable by IPV4 addresses may be
used.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">v6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Use the IPV6 network stack to
connect to servers. This means only servers reachable by IPV4 mapped addresses
or IPV6 addresses may be used. This is the least restrictive option.</span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Notes</span></b></p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">1)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The <b>inetmode</b>
option allows you to create network protocol stack bridges. Fr instance, if the
proxy accepts <b>IPV6</b> addresses and <b>inetmode v4</b> is specified; the
proxy becomes a bridge between incoming <b>IPV6</b> addresses and an <b>IPV4</b>
network.</p>

</div>

<b><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span></b>

<div class="WordSection11">

<h3><a name="_Toc122125467">4.3.6<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Security Directives</a></h3>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.permit</span></b><span style="font-family:&quot;Courier New&quot;"> [<b>/</b>]
[<b>*</b>] <i>hspec</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.persona </span></b><span style="font-family:&quot;Courier New&quot;">{<b>client</b>
|<b> server</b>} [[<b>non]strict</b>] [[no]<b>verify</b>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Where:</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">permit</span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies an allowed
destination that a client can use via a forwarding mode proxy. If no permit
directives are specified, no restrictions apply. Permits, by default, apply to
path and objectid URLs. </span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">/</span></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The permit applies only to
path-type URLS.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">*</span></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The permit applies only to
objectid-type URLS.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic">hspec&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">The DNS host name allowed as a target connection. Substitute for<span class="apple-converted-space">&nbsp;</span><i>name</i><span class="apple-converted-space">&nbsp;</span>a host name or IP address. A host name
may contain a single asterisk anywhere in the name. This lets you allow a range
of hosts should the names follow a regular pattern or if you wish to allow
connections to all hosts in a particular domain.&nbsp; IP addresses may be specified
in IPV4 format (i.e. <span class="spelle">a.b.c.d</span>) or in IPV6 format
(i.e. [x<span class="grame">:x:x:x:x:x</span>]).</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">&nbsp;</span></b></span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">persona</span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies how credentials are
to be handled by the proxy when authenticating with the <b>sss</b> (<b>S</b>imple
<b>S</b>hared <b>S</b>ecret) authentication protocol.&nbsp; The next section describes
the restrictions and limitations of this directive.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">client</span></b>&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">the proxy should connect using
the clients credentials (client persona).</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">server</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> the proxy should connect using
its own credentials (server persona). This is the default.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">strict</span></b>&nbsp;&nbsp; </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The specified persona must
always be used. This is option is only meaningful for client personas.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">nonstrict</span></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class="MsoNormal" style="margin-left:1.0in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
specified persona should always be used for but operations except tests for
file existence (i.e. <b>stat()</b> calls). For <b>stat()</b> calls the servers
persona is used in order to significantly reduce the latency of the operation. This
option is only meaningful for client personas.</span></p>

<span class="StylePalatinoItalic"><b><span style="font-size:12.0pt;font-style:
normal"><br clear="all" style="page-break-before:always">
</span></b></span>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">&nbsp;</span></b></span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">verify</span></b> </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Perform mutual authentication
with the origin server during <b>sss</b> authentication. This is the default
for client personas.</span></p>

<p class="MsoNormal" style="margin-left:1.0in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">noverify</span></b></span></p>

<p class="MsoNormal" style="margin-left:1.0in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">does
not perform mutual authentication with the origin server during <b>sss</b>
authentication. This is the default for server personas.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h4><a name="_Toc122125468"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4.3.6.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Persona restrictions and
limitations</span></a></h4>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
persona capabilities enabled by the <b>pss.persona</b> directive are not
designed for generalized credential forwarding or even delegation. They are
specifically designed to assist front-backend configurations in applying the
correct authorization requirements. The proxy, at the front-end, performs the
required authentication and then recreates the clients identity in a backend
server so that it appears that the client actually authenticated with the
backend. The backend can then perform required authorization using those
credentials. This requires that the proxy and backend servers authenticate with
the <b>sss</b> (<b>S</b>imple <b>S</b>hared <b>S</b>ecret) authentication
protocol. Refer to the <i>Security Reference</i> on how to configure the <b>sss</b>
protocol to successfully enable this style of credential forwarding.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Client
personas cannot be enabled for certain types of proxy server configurations.
Doing so causes proxy initialization to fail. These restrictions are:</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">servers
configured to use a cache (disk or memory), and</span></p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">servers
configured to only forward client requests (i.e. have no origin server).</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">You
may enable client personas on a server that can forward requests if it can also
handle non-forwarded requests (i.e. has an origin server). However, the client
persona is only applied to interactions with the origin server. Forwarded
requests use the servers persona.</span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection12">

<h3><a name="_Toc122125469">4.3.7<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Tuning Directives</a></h3>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.ciosync </span></b><i><span style="font-family:&quot;Courier New&quot;">ssec</span></i><b><span style="font-family:&quot;Courier New&quot;"> </span></b><i><span style="font-family:&quot;Courier New&quot;">msec</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.config </span></b><span style="font-family:&quot;Courier New&quot;">{[<b>streams
</b><i>snum</i>]<b> [workers</b> <i>number</i>]}</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt ConnectTimeout</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>seconds</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt DataServerConn_ttl</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>seconds</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt DebugLevel</span></b><span style="font-family:&quot;Courier New&quot;">
{<b>0</b> | <b>1</b> | <b>2</b> | <b>3</b>}</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt ParallelEvtLoop</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>number</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt ParStreamsPerPhyConn</span></b><span style="font-family:&quot;Courier New&quot;"> <i>number</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt ReconnectWait</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>seconds</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt RedirectLimit</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>number</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt RedirectorConn_ttl</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>seconds</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt RequestTimeout</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>seconds</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt TransactionTimeou</span></b><span style="font-family:
&quot;Courier New&quot;">t <i>seconds</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.setopt WorkerThreads</span></b><span style="font-family:
&quot;Courier New&quot;"> <i>number</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Where:</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">ciosync </span></b>ssec msec</span><span class="StylePalatinoItalic"><b><span style="font-style:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Configures
the parameters for cache I/O synchronization when a file is closed. &nbsp;All
outstanding I/O for a file being closed must completed within msec, otherwise
the file object is orphaned to prevent the possibility of a crash. The default is
30 seconds for <i>ssec</i> and 180 seconds for <i>msec</i>. This directive is
only applicable to a proxy configured with a cache.The parameters are:</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic">ssec</span><span class="StylePalatinoItalic"><b><span style="font-style:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The number of seconds between
attempts to synchronize outstanding I/O with a file close request. The minimum
value is 10 seconds. You may suffix the value with <b>s</b>, <b>m</b>, or <b>h</b>
for seconds (the default), minutes, or hours, respectively.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic">msec</span><span class="StylePalatinoItalic"><b><span style="font-style:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The maximum number of seconds
that I/O may be outstanding before closure of the file is abandoned and the
file object is orphaned. The value must be greater than or equal to <i>ssec</i>
times two. You may suffix the value with <b>s</b>, <b>m</b>, or <b>h</b> for
seconds (the default), minutes, or hours, respectively</span></p>

<span class="StylePalatinoItalic"><b><span style="font-size:12.0pt;font-style:
normal"><br clear="all" style="page-break-before:always">
</span></b></span>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">&nbsp;</span></b></span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">config </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Configures
various parameters affecting the fuse interface. The defaults are:</span></p>

<p class="MsoNormal" align="center" style="margin-left:.5in;text-align:center;
text-indent:-.5in"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">streams
512 workers 16</span></b></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Otherwise,
the following option may be specified:</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">streams&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <i>number</i> of parallel streams
(i.e. connections) to be used when processing a stat() call. The default is 512.
You may specify a maximum of 8192.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span class="StylePalatinoItalic"><b><span style="font-style:normal">workers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <i>number</i> of parallel
threads to be used when collecting information from data servers or issuing
requests to multiple data servers due to a single request. The default is 16.</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><span style="font-style:
normal">&nbsp;</span></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">setopt </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Configures
the <b>XRootD</b> client used by the proxy top communicate with the origin. Each
<b>setopt</b> directive allows a single configuration argument. Specify one or
more of the following, as needed.</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">ConnectTimeout</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The number of <i>seconds</i>
to wait for a server connection to complete. The default is 120 seconds.</p>

<p class="MsoNormal" style="margin-left:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">DataServerConn_ttl</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The number of <i>seconds</i>
to keep an idle data server socket open. The default is 1200 (i.e. 20 minutes).
</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-indent:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">DebugLevel</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The level of debugging. <b>0,</b>
the default, turns off debug output; increasing values produce more detail. </p>

<p class="MsoNormal" style="margin-left:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">ParallelEvtLoop</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The <i>number</i> of
parallel event loops to run to field socket interrupts. The default is <b>3</b>.
Consider increasing this value for servers with a very high transaction rate.</p>

<p class="MsoNormal" style="margin-left:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">ParStreamsPerPhyConn</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The <i>number</i> of
parallel TCP streams to use for data server I/O. You can specify a number from <b>0</b>
to <b>15</b>. The default is <b>2</b>. </p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">ReconnectWait</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The number of <i>seconds</i>
to wait between server reconnects in the presence of a fatal error. The default
is 1800. </p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">RedirectLimit</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The maximum number of
sequential (i.e. without a break) redirects to other servers that may occur
before a fatal error is declared. The default is 16.</p>

<span class="StylePalatinoItalic"><b><span style="font-size:12.0pt;font-style:
normal"><br clear="all" style="page-break-before:always">
</span></b></span>

<p class="MsoNormal"><span class="StylePalatinoItalic"><b><span style="font-style:
normal">&nbsp;</span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">RedirectorConn_ttl</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The number of <i>seconds</i>
to keep an idle redirector socket open. The default is 3600 (i.e. 60 minutes). </p>

<p class="MsoNormal" style="margin-left:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">RequestTimeout</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The maximum number of
seconds a request can be active without a response before an error is declared.
The default is 300 seconds. </p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">TransactionTimeout</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The maximum number of <i>seconds</i>
of wait-time that can be imposed by the server before an error is declared. The
default is 28800 (i.e. 8 hours). </p>

<p class="MsoNormal"><span class="StylePalatinoItalic">&nbsp;</span></p>

<p class="MsoNormal" style="text-indent:.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">WorkerThreads</span></b></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:81.0pt">The maximum <i>number</i>
of responses that can be processed in parallel. Each response is handled in a
separate thread. The default is 64.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in"><b>&nbsp;</b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Notes</span></b></p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">1)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
proxy also accepts environmental variables that control the underlying <b>XRootD</b>
client. Some of these environmental variables offer more extensive control over
the clients behavior then the <b>setopt</b> directive allows. When an
environmental variable is set, it over-rides the equivalent specification in
the configuration file. The variables are described in the documentation for
the <b>xrdcp</b> command.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in">&nbsp;</p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoBodyTextIndent2" style="margin-left:0in"><a name="_Specifying_the_origin"></a><a name="_Disk_Caching_Proxy"></a>&nbsp;</p>

<h1><a name="_Toc122125470"></a><a name="_Disk_Caching_Proxy_2"></a>5<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Disk Caching Proxy</h1>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
disk caching proxy is almost identical to the standard proxy except that a disk
is substituted for a memory cache. This makes the proxy more suitable for WAN
access. </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">The
<b>libXrdPfc.so</b> shared library is a proxy server cache plug-in used for
caching of data into local files. Two modes of operation are supported.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">The first mode simply pre-fetches complete files and stores them
on local disk. This implementation is suitable for optimization of access
latency, especially when reading is not strictly sequential or when it is known
in advance that a significant fraction of a file will be read, potentially several
times. Of course, once parts of a file are downloaded, access speed is the same
as it would be for local <b>XRootD</b> access.</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">The pre-fetching is initiated by the file open request, unless the
file is already available in full. Pre-fetching proceeds sequentially, using a configurable
block size (1 MB is the default). Client requests are served as soon as the
data becomes available. If a client requests data from parts of the file that
have not been pre-fetched yet the proxy puts this request to the beginning of
its download queue so as to serve the client with minimal latency. Vector reads
are also fully supported. If a file is closed before pre-fetching is complete,
further downloading is also stopped. When downloading of the file is complete
it could in principle be moved to local storage. Currently, however, there are
no provisions in the proxy itself to coordinate this procedure.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">A state information file is maintained in parallel with each
cached file to store the block size used for the file and a bit-field of blocks
that have been committed to disk; this allows for complete cache recovery in
case of a forced restart. Information about all file-accesses through the proxy
(open &amp; close time, number of bytes read and number of requests) is also
put into the state file to provide cache reclamation algorithms with ample
details about file usage.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
</span></p>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">The second mode supports on-demand downloading of individual
blocks of a file (block-size can also be passes as <b>cgi</b> information in the
file-open request). The distinguishing feature of the second implementation is
that it only downloads the requested fixed-size blocks of a file.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<span style="font-size:10.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black"><br clear="all" style="page-break-before:always">
</span><pre><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">While the main motivation is to provide pre-fetching of <b>HDFS</b>
blocks (typical size 64 or 128 MB) when they become unavailable at the local
site, either permanently or temporarily due to server overload or other
transient failures. &nbsp;As <b>HDFS</b> block size is a per-file property, it has
to be passed to the proxy on per-file basis as a <b>cgi</b> parameter on the
files URL Each block is stored as a separate file, post-fixed by block size and
its offset in the full file; this facilitates potential reinjection back into <b>HDFS</b>
to heal or increase replication of a file-block. Extensions to the <b>HDFS</b>
have been developed to allow for an immediate fallback to <b>XRootD</b> access
when local <b>HDFS</b> storage fails to provide the requested block.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">That said, the mere fact that only referenced blocks are cached
makes the caching proxy a powerful tool for any kind of remote file system,
irrespective of block size. This is especially true in workloads that reference
of a fraction of the file. Because only relevant blocks are cached, disk space
usage is minimized and overall <b>WAN</b> performance is improved especially
when running multiple jobs that largely reference the same blocks.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">When additional file replicas exist in a data-federation, the
remote data can be used to supplement local storage, to improve its robustness,
and to provide a means for healing of local files. In particular, our intention
is to avoid any local file replication of rarely-used, non-custodial data.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">Unlike the full-file pre-fetching version, the partial-file proxy
does not begin pre-fetching any data until a read request is actually received.
At that point a check is made if the blocks required to fulfill the request
exist on disk and, if they don't, they get queued for pre-fetching in whole.
The client request is served as soon as the data becomes available.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre><pre><span style="font-size:12.0pt;font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></p>

<h2><a name="_Toc122125471"></a><a name="_Configuration"></a>5.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configuration</h2>

<pre><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></pre>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
disk caching proxy is implemented as a specialized caching plug-in that
supplants the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Memory_Caching_Proxy_1"><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">optional memory caching</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> provided by the standard proxy
server.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Disk
caching proxy specific directives and options are described below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-size:
8.0pt;font-family:&quot;Courier New&quot;;color:black">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:black">pfc.acchistorysize</span></b><span style="font-family:
&quot;Courier New&quot;;color:black"> <i>maxcount</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.blocksize </span></b><i><span style="font-family:&quot;Courier New&quot;">bytes</span></i><span style="font-family:&quot;Courier New&quot;">[<b>k</b>|<b>m</b>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;background:yellow">pss.cachelib </span></b><i><span style="font-family:&quot;Courier New&quot;;background:yellow">path</span></i><b><span style="font-family:&quot;Courier New&quot;;background:yellow"> </span></b><span style="font-family:&quot;Courier New&quot;;background:yellow">[<i>libopts</i>]</span><span style="font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:#C00000">required directive</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.ccmlib</span></b><span style="font-family:&quot;Courier New&quot;"> <i>path</i>
[<i>libopts</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.cschk </span></b><span style="font-family:&quot;Courier New&quot;">[[<b>no</b>]<b>cache</b>]
[[<b>no</b>]<b>net</b>] [<b>off</b>] [[<b>no</b>]<b>tls</b>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="text-indent:1.0in;border:none;padding:0in"><span style="font-family:&quot;Courier New&quot;">[<b>uvkeep </b><i>n</i>[<b>d</b>|<b>h</b>|<b>m</b>|<b>s</b>]|<b>lru</b>}]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.decisionlib</span></b><i><span style="font-family:&quot;Courier New&quot;">
path </span></i><span style="font-family:&quot;Courier New&quot;">[<i>libopts</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.diskusage</span></b><span style="font-family:&quot;Courier New&quot;"> <i>lowWatermark</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]<i>
highWatermark</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<b>files</b> <i>base</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]
<i>nom</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>] <i>max</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [{<b>purgeinterval</b> | <b>sleep</b>} <i>purgeitvl</i>[<b>h</b>|<b>m</b>|<b>s</b>]]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<b>purgecoldfiles</b> <i>age</i>{<b>d</b>|<b>h</b>|<b>m</b>|<b>s</b>}
<i>period</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:black">pfc.flush </span></b><span style="font-family:&quot;Courier New&quot;;
color:black">{<i>blocks</i> | <i>bytes</i>[<b>k</b>|<b>m</b>|<b>g</b>]}</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:black">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:black">pfc.hdfsmode</span></b><span style="font-family:
&quot;Courier New&quot;;color:black"> [<b>hdfsbsize</b><i> bytes</i>[<b>k</b>|<b>m</b>]]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.osslib</span></b><span style="font-family:&quot;Courier New&quot;"> <i>path</i>
[<i>libopts</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:black">pfc.prefetch</span></b><i><span style="font-family:
&quot;Courier New&quot;;color:black"> numPrefetchingBlocksPerFile</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;;color:black">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.ram </span></b><i><span style="font-family:&quot;Courier New&quot;">bytes</span></i><span style="font-family:&quot;Courier New&quot;">[<b>m</b>|<b>g</b>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;;color:black">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:black">pfc.spaces</span></b><i><span style="font-family:
&quot;Courier New&quot;;color:black"> data metadata</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;;color:black">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:black">pfc.trace</span></b><i><span style="font-family:
&quot;Courier New&quot;;color:black"> </span></i><span style="font-family:&quot;Courier New&quot;;
color:black">{<b>none </b>| <b>error</b> | <b>warning</b> | <b>info</b> | <b>debug</b>
| <b>dump</b>}</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.user</span></b><span style="font-family:&quot;Courier New&quot;"> <i>username</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;;color:#24292E;background:white">pfc.writequeue</span></b><span style="font-family:&quot;Courier New&quot;;color:#24292E;background:white"> <i>maxblks
nthreads</i></span></p>

</div>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">Required Directive</span></b></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">cachelib </span></b><i><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">path</span></i><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<i>libopts</i>]</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies the path of he shared
library than contains the disk caching proxy plug-in. It may be followed by
options, if any. Currently, there are no options.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Optional
Directives</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">pfc.acchistorysize</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black"> <i>maxcount</i></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">Specifies the number of access records kept for each data file. Specify
for <i>maxcount</i> a value between 20 and 200, inclusive. The default is 20.</span></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">blocksize </span></b><i><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">bytes</span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>k</b>|<b>m</b>]</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">sets
the block size used by proxy.&nbsp; Specify for <i>bytes</i> the size of a block.
The quantity may be suffixed by <b>k</b> or <b>m</b> to indicate <b>k</b>ilo-
or <b>m</b>egabytes, respectively. All read requests, including prefetching are
rounded up into requests of this size and aligned to block boundaries. Read
requests that cross one or more block boundaries are issued as separate read
requests. This is also the size that gets written to disk in a single
operation. The default is 128k.</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Be
aware that when client requests are processed using asynchronous I/O, the
incoming request is broken into segment sized pieces to allow the data to be
streamed from the origin. The default segment size is 64k. The only adverse
effect of this mismatch is that the hit/miss statistics for a particular read
will not match the expected result. Setting the <b>xrootd</b> segment size to
match the default block size will degrade the transfer rate, especially if the
origin is behind a firewall.&nbsp; Consider adjusting the block size to match the
segment size if you need to eliminate the hit/miss aberration.</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">ccmlib
</span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">path </span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<i>libopts</i>]</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies
the location of the shared library that contains the cache context manager plugin
provides custom cache semantics. Specify for <i>path</i> the location of the <b>ccm</b>
plugin shared library and, optionally, plugin specific</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> options for <i>libopts</i>.</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<b><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span></b>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">cschk
</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">{ [[<b>no</b>]<b>cache</b>]
[[<b>no</b>]<b>net</b>] [<b>off</b>] [[<b>no</b>]<b>tls</b>] [<b>uvkeep {</b><i>n</i>[<b>d</b>|<b>h</b>|<b>m</b>|<b>s</b>]}
| <b>lru</b>}}</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies
data integrity options</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">.
The cache has the capability of verifying that the correct data was read from
the network (data in transit integrity) as well as the correct data was read
from the permanent cache (data at rest integrity). Refer to the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Cache_Integrity_Options"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">following
section</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> on a
detailed explanation of these options. The options are:</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>no</b>]<b>cache</b>
&nbsp;&nbsp;&nbsp; do [<b>not</b>] perform cache checksum integrity checking; <b>nocache</b>
is the default.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>no</b>]<b>net</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do
[<b>not</b>] perform network checksum integrity checking; <b>net</b> is the
default. </span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>no</b>]<b>tls</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do
[<b>not</b>] use <b>TLS</b> as a substitute for network checksum integrity
checking when a server supports <b>TLS</b> but does not support data checksums;
<b>tls</b> is the default. </span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">off</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; synonym for
the combination <b>nocache</b> <b>nonet</b>.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">uvkeep</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specifies how long
cached files with unverified checksums are to be kept. Specify for <i>n</i> the
number of <b>d</b>ays, <b>h</b>our, <b>m</b>inutes, or <b>s</b>econds (the
default) after which such cached data is to be deleted. A value of <b>0</b>
never records unverified checksums and their associated data to permanent media
(i.e. such data is served only via a memory cache). Specify <b>lru</b>, the
default, to use the standard mechanism for deleting cache data files.</span></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">decisionlib
</span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">path </span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<i>libopts</i>]</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies
the location of the shared library that contains the cache decision plugin
which determines whether or not to cache a file. All files are cached if a plugin
is not specified. Specify for <i>path</i> the location of the decision plugin
shared library and, optionally, plugin specific</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;"> options for <i>libopts</i>.</span></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">diskusage</span></b></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies physical storage management
properties. The parameters and options are (see the notes for additional
caveats):</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">lowWatermark</span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]
<i>highWatermark</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]</span></p>

<p class="MsoNormal" style="margin-left:58.5pt;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies the total usage on
the file system or set of disks configured with the <b>oss.space</b> directive
that triggers purging of cached files (<i>highWatermark</i>) and the total
usage at which the purging is stopped (<i>lowWatermark</i>). The watermarks must
be specified as a decimal fraction of total available space (default values are
0.90 and 0.95) unless the values are suffixed by <b>k</b>, <b>m</b>, <b>g</b>,
or <b>t</b>. In which case, they must be absolute sizes in <b>k </b>(kilo-), <b>m
</b>(mega-)<b>, g</b> (giga-),<b> </b>or<b> t </b>(tera-) bytes, respectively.</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">files</span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> base</span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]<i>
nom</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]<i> max</i>[<b>k</b>|<b>m</b>|<b>g</b>|<b>t</b>]
</span></p>

<p class="MsoNormal" style="margin-left:58.5pt;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Specifies limits for actual
usage of disk space by the data files owned by the configured cache instance.
When files reach <i>max</i>, they are purged down to <i>nom</i>. If purging due
to total disk usage requires further removal of files, they will be purged down
to <i>base</i> if required for reaching of <i>lowWatermark</i> disk usage. Specify
absolute sizes suffixed by <b>k </b>(kilo-), <b>m </b>(mega-)<b>, g</b>
(giga-),<b> </b>or<b> t </b>(tera-) bytes. Default: limits are not set and file
usage limits are not checked nor enforced. </span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">{<b>purgeinterval | sleep</b>}<b>
</b><i>purgeitvl</i>[</span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">h</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">|<b>m</b>|<b>s</b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">] </span></p>

<p class="MsoNormal" style="margin-left:58.5pt;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies the interval between
subsequent disk usage checks. Specify for <i>purgeitvl</i> a number optionally
suffixed by <b>h</b> for hours, <b>m</b> for minutes, or <b>s</b> for seconds.
The resulting value must be between 60 and 3600 seconds. The default is 300s. The
keyword <b>sleep</b> is a deprecated synonym.</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="text-indent:.5in"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">purgecoldfiles</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> <i>age</i>{<b>d</b>|<b>h</b>|<b>m</b>|<b>s</b>}
<i>period</i> </span></p>

<p class="MsoNormal" style="margin-left:58.5pt;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies the time since last
access at which a file is unconditionally purged. This is useful for cache
instances that share disk space and are only used sporadically so it makes
sense to clear the cache between peak usages. Specify for <i>age</i> a number
optionally suffixed by <b>h</b> for hours, <b>m</b> for minutes, or <b>s</b>
for seconds. &nbsp;The resulting value must be between 1h and 360d, inclusive. The <i>period</i>
argument specifies how many purge cycles need to occur before an age check if
performed. This avoids redundant scanning of meta-data when other purge
conditions (disk and file-usage based ones) are not met. There is no default
and cold files are not purged unless this parameter is specified. </span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">flush</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black"> {<i>blocks</i> | <i>bytes</i>[<b>k</b>|<b>m</b>|<b>g</b>]}</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">forces
a <b>sync</b> operation on all of the data and meta-data files after the number
of specified <i>blocks</i> or <i>bytes</i> have been written to memory. The <i>bytes</i>
value may be suffixed by <b>k</b>, <b>m</b>, or m to indicate <b>k</b>ilo-, <b>m</b>ega-,
or <b>g</b>igabytes, respectively. </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;The
default is 2000 blocks.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">hdfsmode</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black"> [<b>hdfsbsize</b><i>
bytes </i>[<b>k</b>|<b>m</b>]]</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">enables
storage of file fragments as separate files. This is specifically used for
storage healing in HDFS. Specifying</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
<i>bytes</i> sets the default fragment size.</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;"> Specify for <i>bytes</i> the size of a fragment.
The quantity may be suffixed by <b>k</b> or <b>m</b> to indicate <b>k</b>ilo-
or <b>m</b>egabytes, respectively. </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;The
default is 128MB.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<b><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span></b>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">osslib </span></b><i><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">path</span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
[<i>libopts</i>]</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies
the location of the shared library that contains the storage system plugin that
should be used for all cache operations (i.e. read, write, etc). </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Specify for <i>path</i> the
shared library that contains the plugin and, optionally, plugin specific
parameters for <i>libopts</i>. The default is to use standard <b>oss</b>
plug-in for all file system functions. Refer to the <b>Open File System &amp;
Open Storage System Configuration Reference</b> on how to configure the
standard <b>oss</b> plug-in.</span></p>

<p class="MsoNormal" style="margin-left:48.0pt;text-indent:-48.0pt;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="margin-left:48.0pt;text-indent:-48.0pt;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">prefetch </span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">num</span></i></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">maximum number of pre-fetching blocks per file. The default is 10.
Set this value to 0 to disable pre-fetching</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
</span></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">ram </span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">bytes</span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">[m|<b>g</b>]</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">maximum allowed <b>RAM</b>
usage for caching proxy buffers that still need to be written to disk. Beyond
that point the cache will serve further read requests by forwarding them to the
remote server (note, it still needs to allocate buffers for this)</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">. For clients, specify a value
between 256m and 64g (default is 256m). For servers, specify a value between 1g
and 256g (default is 1g). </span></p>

<p class="MsoNormal" style="margin-left:48.0pt;text-indent:-48.0pt;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">spaces </span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">data metadata</span></i></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">spacifies the names of <b>oss</b> space name for data and the <b>oss</b>
space name for metadata. The <b>oss.space</b> directive is used to create
spaces. &nbsp;Default value of both is public</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">trace</span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black"> </span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">{<b>none </b>| <b>error</b> | <b>warning</b> | <b>info</b> | <b>debug</b>
| <b>dump</b>}</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">Set severity level of caching proxy log messages. The levels are
listed in increasing verboseness. The default value is <b>warning</b>.</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">user</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> <i>username</i></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies
the user name to pass to the <b>osslib</b> plug-in when accessing the disk
cache. Specify a valid Unix user name for <i>username</i>. Normally, this
should be the user name of the proxy daemon.</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;"> </span></p>

<p class="MsoNormal" style="text-autospace:none"><b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></b></p>

<b><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:#24292E;background:white"><br clear="all" style="page-break-before:always">
</span></b>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:#24292E;background:white">&nbsp;</span></b></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:#24292E;background:white">writequeue</span></b><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:#24292E;background:white"> <i>maxblks
nthreads</i></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">specifies
how disk cache write-backs are to be handled.</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;"> Specify for <i>maxblks</i> </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:#24292E;background:white">the
maximum number of blocks to be taken off the pending write queue and written to
disk in a single iteration of the disk-writer loop. Accepted values are between
1 and 1024. The default is 16 for a regular proxy server and 8 for a
server-less proxy cache. Specify for <i>nthreads</i> the number of threads that
perform writing of cache blocks to disk. Accepted values are between 1 and 64.
The default is 4 for a regular proxy server and 1 for a server-less proxy
cache.</span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Notes</span></b></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">1)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">All features of the standard
Open Storage System are available to the disk caching proxy. Perhaps the most
essential feature is logical volume management that allows the concatenation of
disk partitions into a single logical volume. Thus, you can easily extend the
disk cache. See the <b>oss.space</b> directive in the <b>Open Storage System
Configuration Reference</b>. There are many other <b>oss</b> options that may
also be helpful in extending the features of the disk caching proxy.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">2)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">If several caching servers are
running on the same file system or set of disks configured with <b>oss.space</b>
directive, they should all use the same <i>lowWatermark</i>, <i>highWatermark</i>,
and <i>purgeinterval</i>. They can use different settings for the <b>files</b>
section and can even oversubscribe the disk usage for <i>nom</i> usage as the <i>low</i>/<i>highWatermark</i>
mechanism will kick in to ensure specified amount of disk remains free. The <i>baseline</i>
values for all the instances should add up to less than <i>lowWatermark</i>.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">3)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>tls</b> option is
ignored unless <b>net</b> is in effect.</span></p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">4)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The options are cumulative
across directive specifications.</span></p>

<p class="MsoNormal" style="margin-left:.25in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Examples</span></b></p>

<p class="MsoNormal" style="text-autospace:none"><b>&nbsp;</b></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">a)
Enable file prefetching:</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Courier New&quot;">pss.cachelib&nbsp; libXrdPfc.so</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Courier New&quot;;
color:black">pfc.ram<span class="apple-tab-span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>100g</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Courier New&quot;;
color:black">pfc.blocksize<span class="apple-tab-span"> </span>512k</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Courier New&quot;">pfc.prefetch
 8</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:Courier">&nbsp;</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">b)
</span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">enable
<b>hdfs</b> healing mode, with block size 64 MB</span><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">:</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Courier New&quot;">pss.cachelib
 libXrdPfc.so</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Courier New&quot;;
color:black">pfc.ram<span class="apple-tab-span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>100g</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Courier New&quot;;
color:black">pfc.hdfsmode<span class="apple-tab-span">&nbsp; </span>hdfsbsize 64m</span><a name="_Disk_Caching_Proxy_1"></a><br clear="all" style="page-break-before:always">
</p>

</div>

<b><span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span></b>

<div class="WordSection13">

<h3><a name="_Toc122125472">5.1.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Disk Caching S3-type Objects</a></h3>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
disk caching feature can be used to also cache <b>S3</b>-type data objects
(e.g. <b>Ceph</b> objects). Such objects are identified by object ID and do not
start with a slash. You must specify certain configuration options to enable
successful caching of <b>S3</b>-type objects. Minimally, you need the following
set of directives in addition to any other applicable directives.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">all.export *?</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.namelib -lfncache libXrdN2No2p.so</span></b><span style="font-family:&quot;Courier New&quot;"> [<i>parms</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

<div class="MsoNormal" align="center" style="text-align:center;border:none;
padding:0in"><i><span style="font-family:&quot;Courier New&quot;">

<hr size="2" width="100%" align="center">

</span></i></div>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">parms: &nbsp;&nbsp; </span></i><span style="font-family:&quot;Courier New&quot;">[<b>-maxfnlen</b><i>
len</i>]<i> </i>[<b>-slash</b> {<i>c </i>|<i> xx</i>}] [<i>prefix</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></b></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">The
</span>all.export</span><span class="StylePalatinoBold"><span style="font-weight:
normal"> directive specifies that object IDs are allowed and that any </span>CGI</span><span class="StylePalatinoBold"><span style="font-weight:normal"> information (i.e.
characters after the first question mark) are to be removed from the object ID
and passed as separate information to the proxy plugin. The plugin requires
that any </span>CGI</span><span class="StylePalatinoBold"><span style="font-weight:
normal"> information be passed separately so must specify </span>*?</span><span class="StylePalatinoBold"><span style="font-weight:normal"> to get consistent
results.</span></span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">&nbsp;</span></span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">A
special Name2Name plugin must be used to convert object IDs to file paths so
that the data they refer to can be cached as local disk files. You dont need
this plugin if the storage system plugin you specified using the </span></span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pfc.osslib </span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">directive is an object store
(e.g. <b>Ceph</b>). The default cache storage system is a file system store via
the <b>oss</b> plugin.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
plugin handles object ID conversion as follows:</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span class="StylePalatinoBold"><span style="font-weight:normal">1)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span class="StylePalatinoBold"><span style="font-weight:normal">All occurrences of a
slash (i.e. /) are changed to be a reverse slash (i.e. \ or escape). This
is necessary to prevent object ids containing slashes from colliding. If your
object IDs use reverse slashes then you must choose another character that you
wont use in the IDs and specify that character using the </span>-slash</span><span class="StylePalatinoBold"><span style="font-weight:normal"> option in the <i>parms</i>
passed to the plugin. You can specify it as a single character or as a two
character hexadecimal code (e.g. 32 for a space character).</span></span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span class="StylePalatinoBold"><span style="font-weight:normal">2)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span class="StylePalatinoBold"><span style="font-weight:normal">The maximum allowed
filename length is determined by what is allowed to be created in /
directory. If this is incorrect, use the </span>-maxfnlen</span><span class="StylePalatinoBold"><span style="font-weight:normal"> <i>parms</i> option
to specify the correct maximum length.</span></span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span class="StylePalatinoBold"><span style="font-weight:normal">3)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span class="StylePalatinoBold"><span style="font-weight:normal">If the object ID is
longer than what is allowed for a filename length, the object ID is transformed
into a path by splitting the ID into filename max units until the ID is
exhausted. Otherwise, two 1-character hash codes are developed from the object
ID itself and each is used as a directory prefix to the object ID. The
directory names are actually two character hexadecimal digits representing each
hash character.</span></span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span class="StylePalatinoBold"><span style="font-weight:normal">4)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span class="StylePalatinoBold"><span style="font-weight:normal">If a <i>prefix</i> is
specified in the <i>parms</i> passed to the plugin, it is used to prefix the
result from the previous step. This allows you to place all object IDs in a
separate directory in the cache.</span></span></p>

<p class="MsoListParagraphCxSpLast"><span class="StylePalatinoBold"><span style="font-weight:normal">&nbsp;</span></span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">Using
the above steps, an object ID of say foobar would be placed in</span></span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">&nbsp;</span></span></p>

<p class="MsoNormal" align="center" style="text-align:center"><span class="StylePalatinoBold"><span style="font-weight:normal">/<i>osslocalroot</i>/<i>prefix</i>/68/7F/foobar</span></span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">&nbsp;</span></span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">Where
<i>osslocalroot</i> comes from the </span>oss.localroot </span><span class="StylePalatinoBold"><span style="font-weight:normal">directive and <i>prefix</i>
comes from <i>parms</i> passed to the plugin. Either or both may be null.</span></span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h3><a name="_Toc122125473"></a><a name="_Cache_Integrity_Options"></a>5.1.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Cache Integrity Options</h3>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
following matrix shows how combinations of integrity options interact.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">
 <tbody><tr>
  <td width="67" valign="top" style="width:.7in;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>
  </td>
  <td width="274" valign="top" style="width:2.85in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">cache</span></b></p>
  </td>
  <td width="274" valign="top" style="width:2.85in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">nocache</span></b></p>
  </td>
 </tr>
 <tr>
  <td width="67" valign="top" style="width:.7in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">net</span></b></p>
  </td>
  <td width="274" valign="top" style="width:2.85in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Verifies
  checksums or checksum equivalents when sent with data over the network and
  records them with the cached file. The checksum is verified when the data is
  read from the cached file.</span></p>
  </td>
  <td width="274" valign="top" style="width:2.85in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Verifies
  checksums or checksum equivalents when sent with data over the network. No
  checksum integrity checks are performed on the cached file.</span></p>
  </td>
 </tr>
 <tr>
  <td width="67" valign="top" style="width:.7in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">nonet</span></b></p>
  </td>
  <td width="274" valign="top" style="width:2.85in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Does
  not perform a transmission integrity check but does generate unverified
  checksums on the received data and records them with the cached file. The
  checksum is verified when the data is read from the cached file.</span></p>
  </td>
  <td width="274" valign="top" style="width:2.85in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Does
  not perform any integrity checking on received or read data. This combination
  is equivalent to specifying <b>off</b>.</span></p>
  </td>
 </tr>
</tbody></table>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Network
data integrity is very much dependent on the data provider supporting checksums
on transmitted data. All <b>XRootD</b> data servers, release 5 and above,
support transmission integrity using <b>crc32c</b> checksums. If a server does
not support checksum integrity but does support <b>TLS</b>, the data is
transmitted using <b>TLS</b> to verify integrity and <b>crc32c</b> checksums
are then locally generated unless <b>notls</b> has been specified. In either
case, these are called verified checksums.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">When a
data server supports neither checksum integrity nor <b>TLS</b>, the data cannot
be verified. However, if the cache option is selected checksums are still
generated locally and recorded with the cached file so that data at rest
integrity can be performed. While these checksums are unverified they still
detect media data alteration when the data is read back; even if the data was
transmitted with data errors. The same is true if the combination <b>cache
nonet</b> is specified.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Since
a file can come from multiple sources, some of which providing unverified data;
a cached file can be composed of verified and unverified pages. The <b>uvkeep</b>
option may be used to limit exposure to corrupt data. This option specifies the
longest time a cached file containing unverified pages may be used to provide
data; after which the cached file is deleted and the data is fetched again, if
needed.&nbsp; This option is useful when dealing with a large number of unverifiable
data sources. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">When
only a handful of data sources provide unverified data, the <b>uvkeep 0</b>
option can be used to ensure that a cached file never contains unverified data.
Any data received without a checksum or checksum equivalent (i.e. <b>TLS</b>)
is never written to media and is only served from memory. While this does
increase overhead as data may need to be fetched multiple times, the overhead
should be small if most of the data sources support data transmission
integrity.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">If the
major problem is media corruption and virtually all network transmissions are
error-free, the combination of <b>cache nonet</b> may make sense. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Finally,
the cache integrity relies on the data source to ensure that correct data is
actually being sent over the network. That means the data source should also
have verified that the data has not been corrupted not only upon creation but
also due to media failures when it is read back. The data integrity option
provided by the caching proxy can only detect, at best, transmission and cache
media errors.</span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection14">

<h2><a name="_Toc122125474">5.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Disk Caching Proxy Clusters</a></h2>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">You
may cluster disk-caching proxies (<b>DCP</b>s) to provide for additional
bandwidth and disk space using a redirector. However, clustering <b>DCP</b>s
is not the same as clustering standard proxy servers because <b>DCP</b>s
maintain a semi-permanent disk cache and cannot see the contents of each
others cache. Furthermore, clients opening a file must be vectored to the <b>DCP</b>
that has already partially or fully cached the requested file and if the file
is not present in any cache the client must be redirected to a <b>DCP</b> with
sufficient disk space to cache the file.</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="text-autospace:none"><img width="296" height="124" src="./XRootD Proxy Configuration_files/image012.png" align="left" hspace="12"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">In some sense a <b>DCP</b> is a
combination of a proxy and a disk server. Hence, they need to be clustered as
disk servers not as standard proxy servers. In the figure to the left, two disk
caching proxy servers, <b>DCP-A</b> and <b>DCP-B</b> are clustered using a
redirector. Each <b>DCP</b> has its own disk cache that may not be shared. In
fact, any attempt to share the same space using, say, a distributed shared file
system will result in data corruption or loss. The minimal configuration file
for such a cluster is shown on the next page. The configuration file uses host
names of <b>dcp-a</b>, <b>dcp-b</b>, and redirector for each server component
in the cluster.</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># Tell everyone who the manager is</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">all.manager redirector:1213</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># The redirector and all servers export /data with
the cache attribute. Paths tagged with </span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># cache request that if the file isnt found in the cluster
the redirector should send</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># the client to a PFC server with enough space to cache
the file.</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">all.export /data cache</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black"># Everyone needs to know where the files
will be placed (i.e. the root of the namespace).</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black"># The namespace logically starts at
/data but is physically located at /pfc-cache</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black">oss.localroot /pfc-cache</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># <span style="color:black">Configuration is
different for the redirector, the server cmsd, and</span> <span style="color:black">for the server xrootd. # We break those out in the
if-else-fi clauses. Specifically, the redirector must be told</span></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black"># that it is a manager. The server cmsd
is tols its a server and should use the standard oss</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># plug-in to locate files. The server xrootd,
however, needs to use the proxy file cache as</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># its a virtual data server using specialized plug-ins.</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">if redirector</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">all.role manager</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">else if exec cmsd</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">all.role server</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">else</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">all.role server</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># For xrootd, load the proxy plugin and the disk
caching plugin. </span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">ofs.osslib&nbsp;&nbsp; libXrdPss.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">pss.cachelib libXrdPfc.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;"># Tell the proxy where the data is coming from
(arbitrary).</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">pss.origin someserver.domain.org:1094</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black"># Tell the PFCs available RAM</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black">#</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;;color:black">pfc.ram 100g</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">fi</span></p>

</div>

</div>

<span style="font-size:12.0pt;font-family:&quot;Times&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection15">

<h2><a name="_Toc122125475"></a><a name="_Memory_Caching_Proxy"></a>5.3<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Handling
Cache Overloads</h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
disk caching service used by the proxy server is able to detect overload
conditions and notify the server that it is not able to service an incoming
request. The default action taken by the proxy server is to delay the client
until the cache can handle additional requests. However, it is also possible to
redirect the client to another server. This can be another proxy server because
of a firewall or to redirect he client to the actual origin of the data when
there is no firewall. Redirection choices are specifying using the <b>xrootd.fsoverload</b>
directive; refer to the <b>Xrd/XRootD Configuration Referenc</b>e for full
details.&nbsp; This section explains overload redirection concepts to assist you in
your configuration choices.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><img width="376" height="212" src="./XRootD Proxy Configuration_files/image013.png" align="left" hspace="12" alt="CacheOvld-1.png"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
graphic on the left shows a typical proxy that sits behind a firewall. All
access to the internet requires that a proxy server be used. Normally, clients
connect to the caching proxy server. This can be a direct mode, forwarding
mode, or combination mode proxy. It doesnt really matter. When the caching
layer indicates an overload, the client is redirected to another regular (i.e.
non-caching) proxy to effect access to the data through the firewall. Both
proxies specify the same origin configuration (see the <b>pss.origin</b>
directive). However, the caching proxy server also specifies the <b>xrootd.fsorverload</b>
directive using the <b>redirect</b> option to specify the alternate proxy
server to use should the caching proxy become overloaded. </span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:auto">
</span>

<div class="WordSection16">

<p class="MsoNormal"><img width="380" height="194" src="./XRootD Proxy Configuration_files/image014.png" align="right" hspace="12" alt="CacheOvld-2.png"></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">If
your site does not have a firewall but you still want to cache data closer to
your site; you would also setup a caching proxy server. The <b>pss.origin</b>
would specify the host that normally clients would connect on the internet. If
the caching proxy becomes overloaded the <b>xrootd.fsoverload</b> directive
specifies, via the redirect option, to send the client directly to the origin.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><img width="386" height="197" src="./XRootD Proxy Configuration_files/image015.png" align="left" hspace="12" alt="CacheOvld-3.png"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Finally,
you can also use a forwarding mode or combination mode caching proxy without using
a firewall. However, the <b>XRootD</b> layer must be told that client can be
redirected to their original destination should a forwarding location be
specified. This is done by adding the <b>bypass</b> option to the <b>xrootd.fsoverload</b>
directive. The reason that you must specify bypass is to allow the proxy
service to apply outgoing restrictions via the <b>pss.permit</b> directive
before any redirection occurs. If you do not specify bypass, then the client is
redirected to the host specified via the <b>redirect</b> option which usually
is another proxy server that knows how to handle site forwarding.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Cache
overload handling can be specified on an individual proxy server or all proxy
servers within a cluster.</span></p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection17">

<h1><a name="_Direct_Cache_Access"></a><a name="_Toc122125476"></a><a name="_Memory_Caching_Proxy_1"></a>6<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Memory Caching Proxy</h1>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The memory
caching proxy is almost identical to the standard proxy except that memory is
used to hold recently read data. The memory cache is used to satisfy future
reads if the requested data is present in the cache. This avoids re-fetching
data from the originating server. A memory cache proxy may make <b>LAN</b>
transfers more efficient, depending on the data access pattern.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">You
configure a memory caching proxy the same way you configure a standard proxy
server with the addition of a <b>pss.cache</b> directive, described in the next
section. Be aware that disk caching proxies and memory caching proxies are
mutually exclusive (i.e. you cannot configure both in the same server).</span></p>

<h2><a name="_Toc122125477"></a><a name="_Configuration_1"></a>6.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configuration</h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Proxy
memory caching specific directives and options are described below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pss.cache </span></b><span style="font-family:&quot;Courier New&quot;">[<i>cacheopts</i>]</span></p>

<div class="MsoNormal" align="center" style="text-align:center;border:none;
padding:0in"><i><span style="font-family:&quot;Courier New&quot;">

<hr size="2" width="100%" align="center">

</span></i></div>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="border:none;padding:0in"><i><span style="font-family:
&quot;Courier New&quot;">cacheopts</span></i><span style="font-family:&quot;Courier New&quot;">: [<b>debug</b>
<i>dbg</i>] [<b>logstats</b>] [<b>max2cache</b> <i>mc</i>] [<b>minpages</b> <i>mp</i>]
</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<b>pagesize</b> <i>ps</i>][<b>preread</b> [<i>prpgs </i>[<i>minrd</i>]]
</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<b>perf</b> <i>prf</i> [<i>rcalc</i>]]] [<b>r/w</b>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<b>sfiles</b> {<b>off</b> | <b>on</b> | <b>.</b><i>sfx</i>}]
[<b>size</b> <i>sz</i>] [<i>cachepots</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span class="StylePalatinoBold"><i><span style="font-family:&quot;Courier New&quot;;font-weight:
normal">&nbsp;</span></i></span></p>

</div>

<p class="MsoNormal"><span class="StylePalatinoItalic"><span style="font-style:
normal">&nbsp;</span></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">Where:</span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoItalic"><b><span style="font-style:normal">cache&nbsp; </span></b></span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Configures
memory caching of data. By default, memory caching is turned off. Specifying
the <b>cache</b> directive with no <i>cachepots</i> is equivalent to
specifying:</span></p>

<p class="MsoNormal" align="center" style="margin-left:.5in;text-align:center;
text-indent:-.5in"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">debug</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"> <b>0 minpages 256 &nbsp;pagesize 32k
preread 0 sfiles off size 100m</b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">If
the <b>cachelib</b> directive is specified, the cache options have no effect. Otherwise,
the following options may be specified:</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">debug</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets the debugging
level: 0 is off, 1 is low, 2 is medium, and 3 is high. The default is 0.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">logstats</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prints&nbsp; statistics
about cache usage for every file that is fully closed.&nbsp; </span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">max2cache</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;  the largest read to cache in
memory. The value is set to the <b>pagesize</b> if it is smaller than <b>pagesize</b>
or not specified (i.e. default). The limit does not apply to pre-read
operations. The <i>mc</i> value may be suffixed by <b>k</b>, <b>m</b>, or <b>g</b>
to scale <i>mc</i> by 2<sup>10</sup>, 2<sup>20</sup>, or 2<sup>30</sup>,
respectively.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">minpages</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp; specifies the minimum
number of pages that the cache should hold. If it is unspecified or is less
than one it is set to 256.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pagesize</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the size of each page in
the cache. It is adjusted to be a multiple of 4k. This also establishes the
minimum read size from a data server. The <i>ps</i> value may be suffixed by <b>k</b>,
<b>m</b>, or <b>g</b> to scale <i>ps</i> by 2<sup>10</sup>, 2<sup>20</sup>, or
2<sup>30</sup>, respectively. The default is 32K.</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">preread</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enables pre-read
operations. By default no data is pre-read. Specify the number of additional
pages to be read past the last read page. You also follow <i>prpgs</i> by the
read size that triggers a pre-read. Reads less than <i>minrd</i> cause a
pre-read to occur. The <i>minrd</i> value may be suffixed by <b>k</b>, <b>m</b>,
or <b>g</b> to scale <i>minrd</i> by 2<sup>10</sup>, 2<sup>20</sup>, or 2<sup>30</sup>,
respectively. The default is the <b>pagesize</b> value plus one. Specifying <b>preread</b>
with no options is equivalent to specifying:</span></p>

<p class="MsoNormal" align="center" style="margin-left:103.5pt;text-align:center;
text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">preread
1 perf 90</span></b></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">preread perf</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp; specifies the minimum
required performance from automatic pre-reads and is part of the <b>preread</b>
options. When this performance cannot be obtained for a file, pages are no
longer automatically pre-read for the file. Performance is measured as the
number pre-read pages used divided by the number actually pre-read times 100.
Specify a value between 0 and 100 for <i>prf</i>.&nbsp; The default is 90 (i.e., 90%
of all pre-reads must be useful).&nbsp; The <i>prf</i> may be followed by <i>rcalc</i>,
the number of pre-read bytes that trigger a new performance calculation. The <i>rcalc</i>
value may be suffixed by <b>k</b>, <b>m</b>, or <b>g</b> to scale <i>num</i> by
2<sup>10</sup>, 2<sup>20</sup>, or 2<sup>30</sup>, respectively. The default is
52428800 (i.e. 50m).</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">r/w</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; caches files
opened in read/write mode. By default, only files opened read/only are cached. </span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">sfiles</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enables or
disables optimization for structured file (e.g., root files). Cache usage is
optimized for the typical access patterns associated with structured files.
Specify <b>off</b> to turn off this feature (the default), <b>on</b> to always
use this feature, or a dot followed by a suffix (i.e. <b>.</b><i>sfx</i>). Only
files whose names end with this suffix, including the dot, will have this
optimization applied. </span></p>

<p class="MsoNormal" style="margin-left:103.5pt;text-indent:-67.5pt"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">size</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specifies the
size of the cache in bytes. See the notes on how this value is adjusted
irrespective of the specification The <i>sz</i> value may be suffixed by <b>k</b>,
<b>m</b>, or <b>g</b> to scale <i>sz</i> by 2<sup>10</sup>, 2<sup>20</sup>, or
2<sup>30</sup>, respectively. The default is 100m.</span></p>

<p class="MsoNormal"><span class="StylePalatinoItalic"><span style="font-style:
normal">&nbsp;</span></span></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in"><b>Notes</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">1)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The <b>size</b>
value may be adjusted upwards or downwards depending on the <b>pagesize</b> and
<b>minpages</b> values. The following adjustments are made:</p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in">a.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The <b>size</b>
value is adjusted downwards to be a multiple of <b>pagesize</b>.</p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in">b.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
final <b>size</b> value is either the <i>adjusted</i> <b>size</b> <i>or</i> <b>minpages</b>
multiplied by the <b>pagsize</b>,,whichever is greater.</p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection18">

<h1><a name="_Toc122125478">7<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>POSIX Server-less Caching</a> </h1>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The subsystems
that support caching proxy servers may also be used to setup a server-less
proxy cache. This is essentially a client-side application cache. It caches
data either in memory or on disk (depending on the configuration) by
intercepting file system calls. Any data that is read is locally cached.
Currently, this feature is available only via the <b>POSIX</b> preload library
(i.e. <b>libXrdPosixPreload.so</b>) or by directly linking with <b>libXrdPosix.so</b>
and using the <b>XRootD</b> <b>POSIX</b> interface APIs defined in one of the
following public include files:</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">XrdPosix.hh</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">, </span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">XrdPosixExtern.hh</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">, or </span></p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">XrdPosixXrootd.hh</span></b></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Using
the <b>XRootD</b> <b>POSIX</b> APIs is straightforward as they do not differ
from the standard <b>POSIX</b> APIs. The APIs defined in <b>XrdPosix.hh</b>
and <b>XrdPosixExtern.hh</b> accept either simple paths or <b>XRootD</b> <b>URL</b>s.
A simple file path vectors the request to the local file system while an <b>XRootD</b>
<b>URL</b> (i.e. one that starts with <b>xroot://</b> or <b>root://</b>)
vectors the request to the specified server. You can define </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Defining_Virtual_Mount"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">virtual
mount points</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
that convert specified simple paths to actual <b>URL</b>s. The interface
defined in <b>XrdPosixXrootd.hh</b> only accepts <b>XRootD</b> <b>URL</b>s.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
preload library mechanism offers a very simple way to run <b>POSIX</b>-compliant
programs without needing to change them or even recompile them. You can invoke
your program with a simple shell script shown below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">LD_PRELOAD=/usr/lib64/libXrdPosixPreload.so </span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">export LD_PRELOAD</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">$*</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Note
that you may need to change the <b>LD_PRELOAD</b> value if the preload library
is not installed in a standard place. So, assume the script is called <b>runit</b>
then executing</span></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">runit ls /tmp</span></b></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">produces
a directory listing of the local <b>/tmp</b> directory while</span></p>

<p class="MsoNormal" align="center" style="text-align:center"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">runit ls xroot://someserver//tmp</span></b></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">produces
a directory listing of <b>someserver</b>s <b>/tmp</b> directory, if allowed.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Regardless
of whether you use the direct <b>API</b> or the preload library, you need to
tell the <b>XRootD POSIX</b> subsystem that you wish to cache data (i.e.
configure caching).</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">This
is done by setting the <b>XRDPOSIX_CONFIG</b> environmental variable to the
path to your configuration file. For instance, we can augment the previous <b>runit</b>
script to also specify the location of the configuration file that can be used
to enable caching.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">LD_PRELOAD= /usr/lib64/libXrdPosixPreload.so </span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">XRDPOSIX_CONFIG=/home/abh/psx.cf</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">export LD_PRELOAD XRDPOSIX_CONFIG</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-family:
&quot;Courier New&quot;">$*</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">So, <b>/home/abh/psx.cf</b>
contains the needed directives to setup local caching.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h2><a name="_Toc122125479">7.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Server-less Disk Caching</a></h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">To
enable disk caching, you need to specify at least the following directives in
your configuration file.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-size:
8.0pt;font-family:&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">posix.cachelib</span></b><span style="font-family:&quot;Courier New&quot;">
/usr/lib64/libXrdPfc.so</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">oss.localroot</span></b><span style="font-family:&quot;Courier New&quot;">
<i>cachepath</i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span class="grame"><b><span style="font-family:&quot;Courier New&quot;;color:black">pfc.diskusage</span></b></span><span class="apple-converted-space"><span style="font-family:&quot;Courier New&quot;;color:black">&nbsp;</span></span><span class="spelle"><i><span style="font-family:&quot;Courier New&quot;;color:black">fracLow</span></i></span><span class="apple-converted-space"><span style="font-family:&quot;Courier New&quot;;color:black">&nbsp;</span></span><span class="spelle"><i><span style="font-family:&quot;Courier New&quot;;color:black">fracHigh</span></i></span></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">pfc.ram</span></b><span style="font-family:&quot;Courier New&quot;"> <i>bytes</i>[<b>m</b>|<b>g</b>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>cachelib</b>
directive tells the system to use local disk caching using the <b>libXrdPfc.so</b>
plug-in. You may need to change the path is this plug-in is installed in a
non-standard directory.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>localroot</b>
directive specifies the disk location of the cache. The <i>cachepath</i> should
be some existing directory path where cached file blocks can be permanently
placed. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>diskusage</b>
directive specifies how much disk to use and at what point unused cached blocks
should be deleted. </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">Specify for<span class="apple-converted-space">&nbsp;</span><span class="spelle"><i>fracLow</i></span><span class="apple-converted-space">&nbsp;</span>the
space utilization percentage that triggers purging. Specify for<span class="apple-converted-space">&nbsp;</span><span class="spelle"><i>fracHigh</i></span><span class="apple-converted-space">&nbsp;</span>the percentage of space utilization
that must be reached for purging to stop. The default is 0.9 0.95 (i.e. 90%
95%) but a<span class="apple-converted-space"> more reasonable combination might
be 0.45 0.50 to prevent total use of your local disk. The </span></span><span class="spelle"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">diskusage</span></b></span><span class="apple-converted-space"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">boundaries, can be
specified also in<span class="apple-converted-space">&nbsp;</span><b>g</b><span class="apple-converted-space">&nbsp;</span>or<span class="apple-converted-space">&nbsp;</span><b>t</b><span class="apple-converted-space">&nbsp;</span>bytes units for<span class="apple-converted-space">&nbsp;</span><span class="spelle"><b>g</b>iga</span>-
and<span class="apple-converted-space">&nbsp;</span><span class="spelle"><b>t</b>era</span>-bytes,</span><span style="font-size:9.5pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black"> </span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">respectively<span class="grame">. </span></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Since
controlling the amount of disk space that the file cache can use is tricky, you
may wish to use a separate disk partition for the cache. </span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Finally,
the <b>ram</b> directive tells the disk cache the maximum amount of memory that
it may use. The larger the amount the better will be the performance.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">All of
the <b>pfc.</b> prefixed directives are available for your use (see the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Configuration"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Disk
Caching Proxy Configuration </span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">section).
A limited number of <b>pss.</b> directives are also available but these
directives must be prefixed with <b>posix</b>. in order to be recognized (see
the section on </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Esoteric_Options"><span style="font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;">esoteric directives</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">). Since the disk caching
subsystem uses the standard storage system plug-in to handle the disk cache,
you can also use most of the <b>oss.</b> prefixed directives documented in
the Open File System &amp; Open Storage System Configuration Reference.
However, its best to ignore the <b>pss.</b> and <b>oss.</b> directives
unless you have very special needs.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h2><a name="_Toc122125480">7.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Server-less Memory Caching</a></h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Using
memory caching is far simpler than using disk caching because there is less to
configure. Your configuration file needs to only have one directive, as shown
below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-size:
8.0pt;font-family:&quot;Courier New&quot;">&nbsp;</span></b></p>

<p class="MsoNormal" style="border:none;padding:0in"><b><span style="font-family:
&quot;Courier New&quot;">posix.cache</span></b><span style="font-family:&quot;Courier New&quot;"> [<i>cachepots</i>]</span></p>

<p class="MsoNormal" style="border:none;padding:0in"><span style="font-size:8.0pt;
font-family:&quot;Courier New&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <i>cacheopts</i>
are identical to the ones described in the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Memory_Caching_Proxy_1"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Memory
Caching Proxy Configuration</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
section using the <b>pss.cache</b> directive.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h2><a name="_Toc122125481"></a><a name="_Esoteric_Options"></a>7.3<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Esoteric
Directives</h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The
following table lists available directives that enable highly specialized
features. For details on these options see the </span><a href="https://xrootd.slac.stanford.edu/doc/dev56/pss_config.htm#_Proxy_Server_Directives_1"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Proxy
Configuration</span></a><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">
section.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">
 <tbody><tr>
  <td width="139" valign="top" style="width:1.45in;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">POSIX
  Directive</span></b></p>
  </td>
  <td width="120" valign="top" style="width:1.25in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Documented</span></b></p>
  </td>
  <td width="355" valign="top" style="width:3.7in;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Notes</span></b></p>
  </td>
 </tr>
 <tr>
  <td width="139" valign="top" style="width:1.45in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">posix.ccmlib</span></p>
  </td>
  <td width="120" valign="top" style="width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pss.ccmlib</span></p>
  </td>
  <td width="355" valign="top" style="width:3.7in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Allows
  running a cache context manager.</span></p>
  </td>
 </tr>
 <tr>
  <td width="139" valign="top" style="width:1.45in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">posix.ciosync</span></p>
  </td>
  <td width="120" valign="top" style="width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pss.ciosync</span></p>
  </td>
  <td width="355" valign="top" style="width:3.7in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Controls
  cache synchronization on close.</span></p>
  </td>
 </tr>
 <tr>
  <td width="139" valign="top" style="width:1.45in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">posix.inetmode</span></p>
  </td>
  <td width="120" valign="top" style="width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pss.inetmode</span></p>
  </td>
  <td width="355" valign="top" style="width:3.7in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Controls
  TCP/IP stack usage.</span></p>
  </td>
 </tr>
 <tr>
  <td width="139" valign="top" style="width:1.45in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">posix.namelib</span></p>
  </td>
  <td width="120" valign="top" style="width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pss.namelib</span></p>
  </td>
  <td width="355" valign="top" style="width:3.7in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Allows
  name mapping and cache squashing.</span></p>
  </td>
 </tr>
 <tr>
  <td width="139" valign="top" style="width:1.45in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">posix.setop</span></p>
  </td>
  <td width="120" valign="top" style="width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pss.setopt</span></p>
  </td>
  <td width="355" valign="top" style="width:3.7in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Controls.underlying
  XRootD client.</span></p>
  </td>
 </tr>
 <tr>
  <td width="139" valign="top" style="width:1.45in;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">posix.trace</span></p>
  </td>
  <td width="120" valign="top" style="width:1.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">pss.trace</span></p>
  </td>
  <td width="355" valign="top" style="width:3.7in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Enables
  tracing.</span></p>
  </td>
 </tr>
</tbody></table>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<h2><a name="_Toc122125482"></a><a name="_Defining_Virtual_Mount"></a>7.4<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Defining
Virtual Mount Points</h2>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">When
using the <b>POSIX</b> preload library or the <b>XrdPosixExtern.hh</b>
interface, you can define virtual mount points. A virtual mount point equates a
path to an <b>XRootD</b> <b>URL</b>. Thus, any use of that path is internally
converted to a specified <b>URL</b> using a template before being handed to the
<b>XRootD</b> <b>POSIX</b> subsystem.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">You
specify virtual mounts by setting the <b>XROOTD_VMP</b> environmental variable
to one or more templates that specify how to convert a path to a <b>URL</b>.
The basic format is shown below.</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoNormal" align="center" style="text-align:center;border:none;
padding:0in"><i><span style="font-size:8.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" align="center" style="text-align:center;border:none;
padding:0in"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">server</span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>:</b><i>port</i>]<b>:</b><i>path</i>[<b>=</b>[<i>newpath</i>]]
[ . . . ]</span></p>

<p class="MsoNormal" align="center" style="text-align:center;border:none;
padding:0in"><span style="font-size:8.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

</div>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">Where:</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">server</span></i><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp; </span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">is the DNS name or
IP address of the target server that would have been specified in a URL.</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">port</span></i><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">is the optional
port number. If not specified, 1094 is assumed</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">path</span></i><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">is the path prefix
that is associated with <i>server</i>. It must start with a slash. Any specified
path whose prefix matches <i>path</i> <i>causes the specified path</i> to be prefixed
with <b>xroot://</b><i>server</i></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">[<b>:</b><i>port</i>]<b>/</b></span><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black"> (i.e. an <b>XRootD</b>
URL) and then vectored to the server. This subject to what has been specified
for the remainder of the template.</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">=</span></b><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">when a simple
equals sign follows path, The path prefix (i.e. path) is removed from the
specified path before prefixing it with an <b>XRootD</b> URL.</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">newpath</span></i></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">when specified
after the equals sign, <i>newpath</i> replaces <i>path</i> before prefixing it
with an <b>XRootD</b> URL.</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></p>

<p class="MsoNormal" style="text-autospace:none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">You may specify any number of virtual mount point templates in the
environmental variable. Each one must be separated by a single space.</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></i></p>

<span style="font-size:12.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;
color:black">&nbsp;</span></p>

<h3><a name="_Toc122125483">7.4.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Examples</a></h3>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">XROOTD_VMP=xnode:/xrootd/
</span></b></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>/xrootd/home/abh</b>
is converted to <b>xroot://xnode:1094//xrootd/home/abh</b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">XROOTD_VMP=xnode:2094:/xrootd</span></b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">/ </span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>/xrootd/home/abh</b>
is converted to <b>xroot://xnode:2094//xrootd/home/abh</b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">XROOTD_VMP=xnode:/xrootd/=/
</span></b></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>/xrootd/home/abh</b>
is converted to <b>xroot://xnode:1094//home/abh</b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><b><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">XROOTD_VMP=xnode:2094:/xrootd/=/atlas/
</span></b></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>/xrootd/home/abh</b>
is converted to <b>xroot://xnode:1094//atlas/home/abh</b></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><i><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></i></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in;text-autospace:
none"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:black">&nbsp;</span></p>

</div>

<b><span style="font-size:16.0pt;font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span></b>

<div class="WordSection19">

<h1><a name="_Toc122125484">8<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The netchk Utility</a></h1>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">The <b>netchk</b>
utility allows you to verify that an external client has a logical path to all
of the required nodes in proxy configuration. The syntax is:</span></p>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt">

<p class="MsoPlainText" style="text-indent:.3in;border:none;padding:0in">&nbsp;</p>

<p class="MsoPlainText" style="border:none;padding:0in"><b><span style="font-size:12.0pt">netchk</span></b><span style="font-size:12.0pt"> { <b>ssh
</b>| <b>tcp </b>} <i>dest</i></span></p>

<p class="MsoPlainText" style="border:none;padding:0in"><i><span style="font-size:12.0pt">&nbsp;</span></i></p>

<p class="MsoPlainText" style="border:none;padding:0in"><i><span style="font-size:12.0pt">dest:&nbsp; </span></i><span style="font-size:12.0pt">[<i>user</i><b>@</b>]<i>host</i><b>:</b><i>port
</i>[<i>dest</i>]<i>&nbsp;&nbsp; </i></span></p>

<p class="MsoPlainText" style="border:none;padding:0in">&nbsp;</p>

</div>

<p class="MsoNormal"><span class="StylePalatino">&nbsp;</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">Parameters</span></p>

<p class="MsoNormal"><span class="StylePalatinoBold">ssh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="StylePalatinoBold"><span style="font-weight:normal">only checks whether it
is possible to ssh login through the <i>dest</i> host list.</span></span></p>

<p class="MsoNormal"><span class="StylePalatinoBold"><span style="font-weight:normal">&nbsp;</span></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoBold">tcp</span><span class="StylePalatinoBold"><span style="font-weight:normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verifies that there is end-to-end message
transitivity from the starting point through the <i>dest</i> host list.</span></span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:-.5in"><span class="StylePalatinoBold">&nbsp;</span></p>

<p class="StyleLeft0Hanging05"><span class="StylePalatinoItalic">user&nbsp;&nbsp;&nbsp;&nbsp; </span>the
username to use when doing an <b>ssh</b> login to each host in <i>dest</i>. The
default is to use the current username.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in">&nbsp;</p>

<p class="MsoBodyTextIndent2" style="text-indent:-.5in"><i>host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </i>is a
hostname or IP address that must be reachable. The first <i>host</i> in the
list must be reachable from the starting node where the <b>netchk</b> command
is issued. Each subsequent <i>host</i> in the <i>dest</i> list must be
reachable from the previous <i>host</i> in the <i>dest</i> list.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in">&nbsp;</p>

<p class="MsoBodyTextIndent2" style="text-indent:-.5in"><i>port&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </i>the port
number where messages must be sent to. This is typically the port number for
connects. This is only meaningful with <b>tcp</b> and the <b>ssh</b> parameter
ignores the <i>port</i> specification.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in"><b>Notes</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">1)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
starting node must have <b>netchk</b> available. No other node need have <b>netchk</b>
installed as the utility automatically but temporarily propagates itself across
all of the hosts in <i>dest</i>.</p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">2)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>All
nodes, including the issuing node, must have <b>perl</b> installed along with
the <b>IO::Socket</b> and <b>IPC::Open2</b> packages.</p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">3)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>All
hosts in <i>dest</i> must have <b>ssh</b> installed and the command issuer (or
specified <i>user</i>) must have login access to each host in <i>dest</i>.</p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">4)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The <b>netchk</b>
utility can be found in the <b>utils</b> directory of the <b>XRootD</b>
distribution or in the add-ons section of the <b>xrootd.org</b> main page.</p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">5)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>You
should run <b>netchk</b> with the <b>ssh</b> parameter first to make sure there
is a clear ssh login path to all hosts in <i>dest</i>.</p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">6)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Since
the goal of <b>netchk</b> is to make sure there is message transitivity through
all the listed hosts in <i>dest</i> using the ports that will be used by
various daemons, the listed port must be available for use. This essentially
means that the daemons that would normally use these ports must not be running
on he hosts listed in <i>dest</i> when <b>netchk</b> is started.</p>

<p class="MsoBodyTextIndent2" style="margin-left:.75in;text-indent:-.25in">7)<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
full transitivity test consists of trying paths between an external public node
and all possible end-points.</p>

<p class="MsoBodyTextIndent2">&nbsp;</p>

<p class="MsoBodyTextIndent2"><b>Example</b></p>

<p class="MsoBodyTextIndent2">&nbsp;</p>

<p class="MsoBodyTextIndent2">The following example tests whether there is
appropriate transitivity between the <b>XRootD</b> proxy server to be run at
z.domain.edu and the redirector to be run at x.domain.edu. Both servers will be
using port 1024.</p>

<p class="MsoBodyTextIndent2">&nbsp;</p>

<p class="MsoBodyTextIndent2"><span style="font-family:&quot;Courier New&quot;">netchk tcp
z.domain.edu:1094 x.domain.edu:1024</span></p>

<p class="MsoBodyTextIndent2">&nbsp;</p>

<p class="MsoBodyTextIndent2">The test will make sure that the issuing node
(which should be an external public node) can connect to z.domain.edu:1024 and
that z.domain.edu:1024 can connect to x.domain.edu:1024. Two-way messages are
sent across the connections to make sure they are not blocked.</p>

<p class="MsoNormal"><span style="font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;">&nbsp;</span></p>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoNormal">&nbsp;</p>

</div>

<span style="font-size:12.0pt;font-family:&quot;Times&quot;,&quot;serif&quot;"><br clear="all" style="page-break-before:right">
</span>

<div class="WordSection20">

<h1><a name="_Toc122125485">9<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Document Change History</a></h1>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>16 Jun
2014</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Split description of proxy services from the ofs/oss manual.
Hence, this is a new manual.</p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the caching proxy service.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>29
Jul 2014</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document forwarding proxies.</p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the <b>pss.origin</b> directive that configures a
forwarding proxy.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>5 Aug
2014</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the <b>pss.permit</b> directive that restricts outgoing
connections of a forwarding proxy.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>2 Dec
2014</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the disk caching proxy configuration directives (i.e.
the ones that start with <b>pfc</b>).</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>14
Feb 2015</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Change the <b>pfc.hdfs</b> prefixed directives to <b>pfc.file</b>
prefixed directives.</p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Remove the <b>pfc.chachedir</b> directive.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>11
Oct 2015</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clarify the meaning of the high and low watermarks in the <b>pfc.diskusage</b>
directive .</p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>11 Jan
2017</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document version 2 of the disk caching proxy which includes new
and changed directives.</p>

<p class="MsoBodyTextIndent2" style="margin-left:1.0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>21
Mar 2017</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct <b>pfc.ram</b> directive (was incorrectly <b>pss.ram</b>).</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the <b>-lfncache</b> and <b>-lfn2pfn pss.namelib</b>
directive options.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>21
May 2017</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe automatic proxy selection via a client plug-in.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe how disk caching proxy overloads may be handled.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>26
June 2017</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe how to cache S3-type objects.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>28
June 2017</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe the <b>pss.ciosync</b> directive.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the <b>pss.config</b> directives <b>stream</b> option.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document server-less caching</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document <b>XRootD</b> <b>POSIX</b> interface.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>18
September 2018</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe the enhanced <b>pfc.diskusage</b> directive.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>16
May 2019</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe the <b>pfc.writequeue</b> directive.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe the <b>pss.ccmlib</b> directive.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe the<b> pss.dca</b> directive.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add section on Direct Cache Access.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>21
January 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe <b>URL</b> specification as the origin server using the <b>pss.origin</b>
directive.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>27
March 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the <b>pss.persona</b> directive.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Restructure the configuration section for readability.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>18
May 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document that forwarding specification of the <b>pss.origin</b>
directive may accept additional protocols that are to be considered acceptable.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>2
June 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the <b><span style="color:black">pfc.acchistorysize</span></b>,
<b>pfc.flush</b>, and the <b>-lfncachesrc</b> option of the <b>pss.namelib</b>
directive.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Expand security section and add privacy and integrity section.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Simplify cluster configuration using the <b>cache</b> <b>export</b>
attribute.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>24
August 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct documentation for <span style="color:black">the<b> </b></span><b>pss.dca</b>
directive.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>31
August 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct documentation for <span style="color:black">the<b> </b></span><b>pfc.cschk</b>
directive.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>9
September 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct documentation for <span style="color:black">the<b> </b></span><b>pfc.cschk</b>
directive and add a section describing data integrity options.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>6
November 2020</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe the [<b>no</b>]<b>tls</b> option on the<b><span style="color:black"> </span></b><b>pfc.cschk</b>.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>21
June 2021</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Describe the<b><span style="color:black"> </span></b><b>pss.reproxy</b>.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Change the <b>pfc</b> default block size to 256K.</p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add description of the interaction between the <b>pfc.blocksize</b>
and the <b>xrootd.async</b> directives.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>7
June 2022</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Change the <b>pfc</b> default block size to 128K.</p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>&nbsp;</b></p>

<p class="MsoBodyTextIndent2" style="margin-left:0in;text-align:justify"><b>16
December 2022</b></p>

<p class="StyleLeft05Firstline05" style="margin-left:1.0in;text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Document the ability to use a path to a locally mounted file
system as the data origin..</p>

<p class="StyleLeft05Firstline05" style="margin-left:0in;text-indent:0in">&nbsp;</p>

</div>




</body></html>